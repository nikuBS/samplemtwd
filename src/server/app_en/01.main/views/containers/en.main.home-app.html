<%#
* @file home.html
* @author Ara Jo (araara.jo@sk.com)
* @since 2018.01.11
* HO_03
%>

<%- include('../components/main.start.component.html', { pageInfo: locals.pageInfo }); %>

<body class="apphome">

<div id="mainHome" class="wrap" data-menuid="<%= pageInfo.menuId %>" >
    <!-- #header -->
    
    <%- include('../../../../common_en/views/components/header.component.html', { title: '', svcInfo: svcInfo, home: 'web' }) %>
    <!--// #header -->
    <!-- #contents -->
    <div id="contents" class="container-wrap">
        <h2 id="contents-area" tabindex="-1"><span class="blind">본문시작</span></h2>
        <div class="container">

            <!-- 메인 배너 -->
            <div class="home-slider">
                <!-- .home-slider-my -->
                <div class="home-slider-my">
                    <!--// 메인배너01 -->
                <% if (svcInfo) { %>
                    <% if (svcInfo.svcAttrCd && svcInfo.svcAttrCd !== 'M1') { %>
  
                        <!-- pps/유선회원 선택시 -->
                        <div class="main-chart-box">
                            <div class="error-code">
                                <p class="error-title">Access Unavailable</p>
                                <p>The service for PPS and non-mobile<br>
                                    lines are still under development<br>
                                    You may access these services on the<br>
                                    Korean version of T World</p>
                                <% if( Number(svcInfo.nonSvcCnt) > 0 || (Number(svcInfo.nonSvcCnt) + Number(svcInfo.expsSvcCnt)) >= 1 ) { %>
                                <button class="bt-link-tx underline mt10 fe-mainLine" >Select a Mobile Line</button><!-- 200916 간격조정 -->
                                <%}%>
                                <div class="suggest-bt">
                                    <ul class="bt-slice">
                                        <li>
                                            <button class="btn-round1 btn-style1 fe-home-internal" data-url="/main/home">Go to Tworld KOR</button>
                                        </li>
                                    </ul>
                                </div>
                            </div>
                        </div>

                    <% } else if (svcInfo.totalSvcCnt === '0') { %>
                        <!-- 미가임 -->

                        <div class="main-error-box welcome tod-login-box line-none"> <!-- 회선미보유,미등록 시 line-none 클래스 추가 -->
                            <!-- 회선미보유 시 -->
                            <strong class="ti">No Registered Lines</strong>
                            <p class="tx">Join SK Telecom to<br>enjoy a variety of services</p>
                            <div class="btn-area">
                                <button type="button" class="btn-round1 btn-style1 fe-home-sso-external" data-url="https://m.shop.tworld.co.kr?utm_source=tworld_gb&utm_medium=app_button&utm_campaign=view 
                                ">View Mobile Phones</button>
                            </div>
                            <p class="desc2">Wired line information is available at Tworld KOR<button class="bt block fe-home-internal" data-url="/common/member/line">Go to Tworld KOR</button></p><!-- 200911 문구 변경 -->
                            <!--// 회선미보유 시 -->
                        </div>
                

                    <% } else if ( svcInfo.expsSvcCnt === '0') { %>
                        <!-- 미등록 -->

                        <div class="main-error-box welcome tod-login-box line-none"> <!-- 회선미보유,미등록 시 line-none 클래스 추가 -->
                            <!-- 회선미등록 시 -->
                            <strong class="ti">Please Register a Line</strong>
                            <p class="tx"><span><%= svcInfo.totalSvcCnt %></span> line(s) waiting to be registered<br>At least 1 line needs to be registered to use T world</p>
                            <div class="btn-area">
                                <button type="button" class="btn-round1 btn-style1 fe-home-internal" data-url="/en/common/member/line">Register Line</button>
                            </div>
                            <!--// 회선미등록 시 -->
                        </div>

                    <% } else { %>                                   
                    <% if (svcInfo.svcAttrCd.includes('M')) { %>
                    <% if (homeData.usageData) { %>
                                                  
                        <div class="main-top-group">
                        <!-- 모바일 회선_잔여 데이터 -->
                        <% if (homeData.usageData.code === '00') { %>
                        <div class="main-chart-box">

                            <% if( Number(svcInfo.nonSvcCnt) > 0 || (Number(svcInfo.nonSvcCnt) + Number(svcInfo.expsSvcCnt)) >= 1 ) { %>
                                <em class="line">
                                    <button class="bt ff-tg-light fe-bt-line" data-svcMgmtNum="<%= svcInfo.svcMgmtNum %>" data-xt_eid="CMMA_A2_B6-155" data-xt_csid="NO" data-xt_action="BC"><%= homeData.usageData.showSvcNum %></button>
                                </em>
                                <strong class="ti">
                                    <button class="bt fe-home-internal" data-url="/en/myt-join/submain"><%= svcInfo.prodNmEn %></button>
                                </strong>
                            <% } else { %>
                                <em class="line">
                                    <button class="bt ff-tg-light none-underline"><%= homeData.usageData.showSvcNum %></button>
                                </em>
                                <strong class="ti">
                                    <button class="bt fe-home-internal" data-url="/en/myt-join/submain"><%= svcInfo.prodNmEn %></button>
                                </strong>
                            <% } %>
                            
                        <% } else { %>
                        <div class="main-chart-box">
                            <em class="line"><button class="bt ff-tg-light fe-bt-line" data-svcMgmtNum="<%= svcInfo.svcMgmtNum %>" data-xt_eid="CMMA_A2_B6-155" data-xt_csid="NO" data-xt_action="BC"><%-convertTelFormat(svcInfo.svcNum)%></button></em>
                            <!-- 2019-02-27 단일회선일경우 언더라인 없음. 다회선일경우에는 'none-underline' 삭제 -->
                            <strong class="ti"><button class="bt fe-home-internal" data-url="/en/myt-join/submain"><%= svcInfo.prodNmEn %></button></strong>                            
                        <% }  %>    
                        
                            <% if (homeData.usageData.code === '00') { %>
                            <% if (homeData.usageData.data && homeData.usageData.data.isShow) { %>

                                <!-- .widget -->
                                <div class="widget">
                                    <div class="widget-box donutchart">
                                        <!-- .donut-chart -->
                                        <button class="donut-chart data-type fe-home-internal" data-url="/en/myt-data/hotdata" data-xt_eid="CMMA_A2_B6-4" data-xt_csid="NO" data-xt_action="BC"> <!-- 데이터 경우 data-type 추가 -->
                                            <div class="donut-chart-area">
                                                <div class="dot"></div>
                                                <div class="highlight"></div>

                                                <!-- loop -->
                                                <div class="c100 p70" data-percent="<%= homeData.usageData.data.myRemainedRatio %>"><!-- data-percent :0 ~ 100 -->
                                                    <div class="red"><!-- red, yellow, green, blue -->
                                                        <div class="slice">
                                                            <div class="bar"></div>
                                                            <div class="fill"></div>
                                                        </div>
                                                        <div class="slice transparent">
                                                            <div class="bar"></div>
                                                            <div class="fill"></div>
                                                        </div>
                                                    </div>
                                                </div>
                                                <!-- // loop -->

                                            </div>
                                            <span class="ti-data">
                                                <strong class="ti">Remaining Data</strong> <!--음성통화 제한일 경우 limited 클래스 추가하고 'Remaining<br>Talktime'으로 텍스트 수정-->
                                                <em class="data"><span><%= homeData.usageData.data.showAddRemained %></span></em>
                                            </span>
                                        </button>
                                        <!-- // .donut-chart -->
                                    </div>
                                </div>
                                <!-- // .widget -->
                            
                            <div class="call-message">
                                <% if(homeData.usageData.voice && homeData.usageData.voice.isShow) { %>
                                <button class="bt-call fe-home-internal" data-url="/en/myt-data/hotdata"><i class="icon-call-34"><span class="blind">Talktime</span></i> <span class="ff-tg-light"><%= homeData.usageData.voice.showRemainedText %></span></button>
                                <% } %>
                                <% if(homeData.usageData.sms && homeData.usageData.sms.isShow) { %>                                    
                                <button class="bt-message fe-home-internal" tabindex="0" data-url="/en/myt-data/hotdata"><i class="icon-sms-37"><span class="blind">Texts</span></i> <span class="ff-tg-light"><%= homeData.usageData.sms.showRemainedText %></span></button>
                                <% } %>
                            </div>
                            <% } else if (homeData.usageData.voice && homeData.usageData.voice.isShow) { %>
                                <div class="widget">
                                    <div class="widget-box donutchart">
                                        <!-- .donut-chart -->
                                        <button class="donut-chart data-type fe-home-internal" data-url="/en/myt-data/hotdata"><!-- 데이터 경우 data-type 추가 -->
                                            <div class="donut-chart-area">

                                                <div class="dot"></div>
                                                <div class="highlight"></div>

                                                <!-- loop -->
                                                <div class="c100 p70" data-percent="<%= homeData.usageData.voice.remainedRatio %>"><!-- data-percent :0 ~ 100 -->
                                                    <div class="green"><!-- red, yellow, green, blue -->
                                                        <div class="slice">
                                                            <div class="bar"></div>
                                                            <div class="fill"></div>
                                                        </div>
                                                        <div class="slice transparent">
                                                            <div class="bar"></div>
                                                            <div class="fill"></div>
                                                        </div>
                                                    </div>
                                                </div>
                                                <!-- // loop -->
                                            </div>
                                            <span class="ti-data">
                                                <strong class="ti limited">Remaining<br> Talktime</strong> <!--음성통화 제한일 경우 limited 클래스 추가하고 'Remaining<br>Talktime'으로 텍스트 수정-->
                                                <em class="data"><span><%= homeData.usageData.voice.showRemained %></span></em>
                                            </span>
                                        </button>
                                        <!-- // .donut-chart -->
                                    </div>
                                </div>        
                                <div class="call-message">
                                    <% if(homeData.usageData.sms && homeData.usageData.sms.isShow) { %>
                                    <button class="bt-message fe-home-internal" data-url="/en/myt-data/hotdata" tabindex="0"><i class="icon-sms-37"><span class="blind">Texts</span></i> <span class="ff-tg-light"><%= homeData.usageData.sms.showRemainedText %></span></button>
                                    <% } %>
                                </div>                   
                            <% } else if (homeData.usageData.sms && homeData.usageData.sms.isShow) { %>
                                <div class="widget">
                                    <div class="widget-box donutchart">
                                        <!-- .donut-chart -->
                                        <button class="donut-chart data-type fe-home-internal" data-url="/en/myt-data/hotdata"><!-- 데이터 경우 data-type 추가 -->
                                            <div class="donut-chart-area">

                                                <div class="dot"></div>
                                                <div class="highlight"></div>

                                                <!-- loop -->
                                                <div class="c100 p70" data-percent="<%= homeData.usageData.sms.remainedRatio %>"><!-- data-percent :0 ~ 100 -->
                                                    <div class="yellow"><!-- red, yellow, green, blue -->
                                                        <div class="slice">
                                                            <div class="bar"></div>
                                                            <div class="fill"></div>
                                                        </div>
                                                        <div class="slice transparent">
                                                            <div class="bar"></div>
                                                            <div class="fill"></div>
                                                        </div>
                                                    </div>
                                                </div>
                                                <!-- // loop -->
                                            </div>
                                            <span class="ti-data">
                                                <strong class="ti limited">Remaining Texts</strong> <!--음성통화 제한일 경우 limited 클래스 추가하고 'Remaining<br>Talktime'으로 텍스 트 수정-->
                                                <em class="data"><span><%= homeData.usageData.sms.showRemained %></span></em>
                                            </span>
                                        </button>
                                        <!-- // .donut-chart -->
                                    </div>
                                </div>        
                                <!--div class="call-message">
                                    <button class="bt-message fe-home-internal" data-url="/en/myt-data/hotdata" tabindex="0"><i class="icon-sms-37"><span class="blind">Texts</span></i> <span class="ff-tg-light"><%= homeData.usageData.sms.showRemained %></span> Texts</button>
                                </div-->                                                                
                            <% } %>
                            <% } else if (homeData.usageData.code === 'BLN0001') { %>
                                <div class="error-code">
                                    <p class="error-title">Please try again later</p>
                                    <p>The number of inquiries permitted is limited to ensure service stability</p>
                                </div>                                    
                            <% } else if (homeData.usageData.code === 'BLN0002') { %>
                                <div class="error-code">
                                    <p class="error-title">Data balance not available</p>
                                    <p>You have just switched back to your current plan within the past month</p>
                                </div> 
                            <% } else if (homeData.usageData.code === 'BLN0003') { %>
                                <div class="error-code">
                                    <p class="error-title">Data balance not available</p>
                                    <p>You have suspended your service within the past month</p>
                                </div> 
                            <% } else if (homeData.usageData.code === 'BLN0004') { %>
                                <div class="error-code">
                                    <p class="error-title">Data balance not available</p>
                                    <p>No data balance information available</p>
                                </div> 
                            <% } else if (homeData.usageData.code === 'BLN0005') { %>
                                <div class="error-code">
                                    <p class="error-title">Data balance not available</p>
                                    <p>You are not the legal guardian of the subscriber</p>
                                </div> 
                            <% } else if (homeData.usageData.code === 'BLN0006') { %>                                    
                                <div class="error-code">
                                    <p class="error-title">Data balance not available</p>
                                    <p>Data balance could not be found</p>
                                </div> 
                            <% } else if (homeData.usageData.code === 'BLN0007') { %>
                                <div class="error-code">
                                    <p class="error-title">Data balance not available</p>
                                    <p>No data balance information available</p>
                                </div> 
                            <% } else if (homeData.usageData.code === 'BFF0006' && homeData.usageData.fallbackClCd === 'F0004') { %>
                                <div class="error-code">
                                    <p class="error-title">System under maintenance</p>
                                    <p><%= homeData.usageData.fromDate %> ~ <%= homeData.usageData.toDate %></p>
                                </div> 
                            <% } else { %>
                                <div class="error-code">
                                    <p class="error-title">Please try again later</p>
                                    <p><%= homeData.usageData.code %></p>
                                </div>
                            <% } %>
                        </div>
                        <!-- //모바일 회선_잔여 데이터 -->
 
                    <% } %>
                    <% } %>
                <% } %>                    
                </div>
                    <div class="section-box nogaps">
                        <div class="main-charge-box benefit section-swiper-box main-banner-img tod-bann-auto">
                            <!-- .widget -->
                            <div class="widget">
                                <div class="widget-box slider1" data-slider-auto="true"> <!-- 190610_수정 : Slide Auto 기능 클래스에서 attr로 변경 -->
                                    <div class="slider-box">
                                        <ul class="slider">
                                            <li>
                                                <button onclick='location.href="/en/product/callplan/miri"'>
                                                    <img src="<%= CDN %>/img/en/main/img-main-banner01.png" alt="MIRI. you can pay the fee in advance. view more.">
                                                </button>
                                            </li>
                                        </ul>
                                    </div>
                                </div>
                            </div>
                            <!--// .widget -->
                        </div>
                    </div>                    
                    
                    <!--My Bills-->
                    <div class="section-box nogaps fe-smart-bill">

                    </div>
                    <!--//My Bills-->

                    <!--Addtional Service Charges-->
                    <div class="section-box nogaps fe-smart-micro">

                    </div>
                    <!--//Addtional Service Charges-->
                    <% } else { %>
                        <div class="main-top-group">
                            <div class="main-error-box welcome tod-login-box">
                                <strong class="ti">Dear Subscriber</strong>
                                <p class="tx">Log in to view your information</p>
                                <div class="btn-area">
                                    <button type="button" class="btn-round1 btn-style1 fe-bt-home-login">Sign in</button>
                                </div>
                                <p class="desc2">Not a T world member yet?&nbsp;&nbsp;&nbsp;<button class="bt fe-bt-signup">Register</button></p>
                            </div>
                        </div>
                        
                        <div class="section-box nogaps">
                            <div class="main-charge-box benefit section-swiper-box main-banner-img tod-bann-auto">
                                <!-- .widget -->
                                <div class="widget">
                                    <div class="widget-box slider1" data-slider-auto="true"> <!-- 190610_수정 : Slide Auto 기능 클래스에서 attr로 변경 -->
                                        <div class="slider-box">
                                            <ul class="slider">
                                                <li>
                                                    <button onclick='location.href="/en/product/callplan/miri"'>
                                                        <img src="<%= CDN %>/img/en/main/img-main-banner01.png" alt="MIRI. you can pay the fee in advance. view more.">
                                                    </button>
                                                </li>
                                            </ul>
                                        </div>
                                    </div>
                                </div>
                                <!--// .widget -->
                            </div>
                        </div>
                    <% }%>    
                    
                    <!--How About These Plans-->
                    <div class="section-box nogaps">
                        <div class="main-fee-box">
                            <!-- 200914 접근성, 탭기능, 디자인 수정 -->
                            <div class="fee-cont plan-slide component">
                                <strong class="tit">HOW ABOUT<br>THESE PLANS?</strong>
                                <div class="component-box tabs">
                                    <div class="tab-area new01">
                                        <div class="tab-linker tab-multiline">
                                            <ul role="tablist">
                                                <li role="presentation" aria-selected="true"><a href="javascript:;" aria-selected="true" aria-controls="tab1-tab" id="tab1">5GX PLAN</a></li><!-- 링크 이동시 활성화 된 탭에 aria-selected="true" 설정 -->
                                                <li role="presentation" aria-selected="false"><a href="javascript:;" aria-selected="false" aria-controls="tab2-tab" id="tab2">T PLAN</a></li>
                                                <li role="presentation" aria-selected="false"><a href="javascript:;" aria-selected="false" aria-controls="tab3-tab" id="tab3">0 PLAN</a></li>
                                            </ul>
                                        </div>
                                        <div class="tab-contents">
                                            <ul id='plan-ul'>
                                            </ul>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <!--// 200914 접근성, 탭기능, 디자인 수정 -->
                            <div class="btn-area">
                                <button class="bt full" onclick='location.href="/en/product/mobileplan"'>View All Plans</button> <!--미청구 회선일 경우 버튼, 버튼 한개일 경우 'full' 클래스 추가-->
                            </div>
                        </div>
                    </div>
                    <!--//How About These Plans-->

                    <!-- 메인배너02 -->
                    <div class="section-box nogaps">
                        <div class="main-charge-box benefit section-swiper-box main-banner-img tod-bann-auto">
                            <!-- .widget -->
                            <div class="widget">
                                <div class="widget-box slider4" data-slider-auto="true"> <!-- 190610_수정 : Slide Auto 기능 클래스에서 attr로 변경 -->
                                    <div class="slider-box">
                                        <ul class="slider">
                                            <li>
                                                <button onclick='location.href="/en/customer/agentsearch"'>
                                                    <img src="<%= CDN %>/img/en/main/img-main-banner02.png" alt="Reluctant to Visit an SK Telecom store
                                                    due to the language barrier? Look for Global T world stores with the following storefront language signs!">
                                                </button>
                                            </li>
                                        </ul>
                                    </div>
                                </div>
                            </div>
                            <!--// .widget -->
                        </div>
                    </div>
                    <!-- //메인배너02 -->

                    <!--Support-->
                    <div class="section-box nogaps">
                        <div class="main-fee-box">
                            <div class="fee-cont">
                                <strong class="tit">SUPPORT</strong>
                                <button class="fee-info support fe-home-internal" data-url="/en/customer/videoguide">
                                    <span class="support01">Watch and Learn
                                        <span>Use telco services Like a Local by learning from simple tutorial videos</span>
                                    </span>
                                </button>
                                <button class="fee-info support fe-home-internal" data-url="/en/customer/faq">
                                    <span class="support02">FAQ
                                        <span>Frequently Asked Questions</span> <!-- 200917 text 변경 -->
                                    </span>
                                </button>
                                <button class="fee-info support fe-home-internal" data-url="/en/customer/document">
                                    <span class="support03">Required Documents
                                        <span>You can view the documents required for foreigner’s subscription</span>
                                    </span>
                                </button>
                            </div>
                        </div>
                    </div>
                    <!--//Support-->

                </div>
                <!-- // .home-slider-my -->
            </div>
            <!-- //메인 배너 -->

            <input type="hidden" name="5gx_code" value="<%= svcInfo.product_code.CODE_5GX_PLAN %>">
            <input type="hidden" name="t_plan_code" value="<%= svcInfo.product_code.CODE_T_PLAN %>">
            <input type="hidden" name="0_plan_code" value="<%= svcInfo.product_code.CODE_0_PLAN %>">
 
        </div>
    </div>
    <!--// #contents -->

</div>
<% if (svcInfo && svcInfo.svcAttrCd === 'M1') { %>
    <%- include('../components/smart-card/bill.component.html', { svcInfo: svcInfo }); %>
    <%- include('../components/smart-card/micro-contents.component.html'); %>
<% } %>
<% include ../components/javascript.component.html %>
<script>
  $(document).ready(function () {
    new Tw.MainHome($('#mainHome'), '<%= (svcInfo && svcInfo.svcAttrCd === "M1")%>', '', '<%= pageInfo.menuId %>', '<%= svcInfo !== null %>', '<%= svcInfo ? svcInfo.actRepYn : "N" %>', '<%= svcInfo ? svcInfo.mbrNm : "" %>','<%= svcInfo ? svcInfo.svcMgmtNum : "" %>');
  });
</script>
</body>
<% include ../components/end.component.html %>
