<%#
* @file common.line.edit.html
* @author Ara Jo (araara.jo@sk.com)
* @since 2018.10.01
* CO_01_05_02_04
%>
<%- include('../../components/start.component.html', { pageInfo: locals.pageInfo }); %>
<body>
<!-- #skip_navigation -->
<div id="skipNav" class="skip_navi">
    <ul>
        <li><a href="#contents" class="fe-replace-history">본문 바로가기</a></li>
    </ul>
</div>
<!--// #skip_navigation -->
<div id="commonLineEdit" class="wrap">
    <!-- #header -->
    <%- include('../../../../common/views/components/header.component.html', { title: '회선관리', svcInfo: svcInfo, line: false }) %>
    <!--// #header -->
    <!-- #contents -->
    <div id="contents" class="container-wrap">
        <div class="container">
            <!-- .cont-box -->
            <h2 class="blind">내용</h2>
            <hr class="cont-sp type1" aria-hidden="true"/>

            <!-- .cont-box -->
            <div class="cont-box nogaps">
                <div class="mline-list">
                    <div class="mline-manage-top">
                            <span class="mline-tit-wrap">
                                <span class="mline-tit"><%= lineCategory %></span>
                            </span>
                    </div>
                    <div class="mline-manage-cont">
                        <div class="list-edit-bt"><button id="fe-bt-complete" class="edit">저장</button><button id="fe-bt-guide" class="list-edit-guide">이용안내 <span class="ico"></span></button></div>
                        <div class="mline-manage-sort">
                            <div class="sortlist">
                                <p class="mline-manage-ti">이용중인 회선 <span class="mline-num red"><span id="fe-txt-used" class="num"><%= expsY.cnt %></span>개</span></p>
                                <ul id="sortable-enabled" class="connectedSortable enabled">
                                    <% expsY.list.map((line, index) => { %>
                                    <li class="ui-state-default fe-item fe-item-active <% if(index >= 20) { %>none<% } %>" data-svcmgmtnum="<%= line.svcMgmtNum %>" data-showname="<%= line.showName %>" data-svcnum="<%= line.svcNum %>" data-svcgr="<%= line.svcGr %>">
                                        <div class="state-box">
                                            <p class="ti"><%= line.showName %><!--<span class="ico-like" role="img" aria-label="기준회선"><span class="blind">기준회선</span></span>--></p>
                                            <span class="ph"><%= line.showDetail %></span>
                                        </div>
                                        <div class="bt-active">
                                            <button class="fe-bt-remove" type="button">삭제</button>
                                        </div>
                                        <div class="state-bt">
                                            <button class="bt-sort up"><span class="blind">해당 회선 위로</span></button>
                                            <button class="bt-sort down"><span class="blind">해당 회선 아래로</span></button>
                                        </div>
                                        <span class="ico-move" aria-hidden="true"><span class="blind">목록 이동</span><span class="ico"></span></span><!-- 접근성 수정 -->
                                    </li>
                                    <% }) %>
                                </ul>
                                <% if (expsY.cnt > 20) { %>
                                <div class="bt-more">
                                    <button id="fe-bt-more-exposed" role="button" title="">더보기</button>
                                </div>
                                <% } %>

                                <hr class="cont-sp type4" aria-hidden="true"/>
                                <p class="mline-manage-ti">추가 가능한 회선 <span class="mline-num blue"><span id="fe-txt-unused" class="num"><%= expsN.cnt %></span>개</span></p>
                                <ul id="sortable-disabled" class="connectedSortable disabled fe-list-exposable">
                                    <% expsN.list.map((line) => { %>
                                    <li class="ui-state-default fe-item fe-item-inactive" data-svcmgmtnum="<%= line.svcMgmtNum %>" data-showname="<%= line.showName %>" data-svcnum="<%= line.svcNum %>" data-svcgr="<%= line.svcGr %>">
                                        <div class="state-box">
                                            <p class="ti"><%= line.showName %></p>
                                            <span class="ph"><%= line.showDetail %></span>
                                        </div>
                                        <div class="bt-active">
                                            <button class="fe-bt-add" type="button">추가</button>
                                        </div>
                                        <span class="ico-move" aria-hidden="true"><span class="blind">목록 이동</span><span class="ico"></span></span><!-- 접근성 수정 -->
                                        <div class="state-bt">
                                            <button class="bt-sort up"><span class="blind">해당 회선 위로</span></button>
                                            <button class="bt-sort down"><span class="blind">해당 회선 아래로</span></button>
                                        </div>
                                    </li>
                                    <% }) %>
                                </ul>
                                <% if (expsN.cnt > 20) { %>
                                <div class="bt-more">
                                    <button id="fe-bt-more-exposable" role="button" title="">더보기</button>
                                </div>
                                <% } %>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <!--// .cont-box -->
        </div>
    </div>
    <!--// #contents -->
    <!-- footer -->
    <%- include('../../../../common/views/components/footer.component.html', { svcInfo: svcInfo, pageInfo: pageInfo }); %>
    <!-- // footer -->
</div>
</body>
<% include ../../components/javascript.component.html %>
<script id="fe-line-exposable-tmpl" type="text/x-handlebars-template">
    {{#each list}}
    <li class="ui-state-default fe-item fe-item-inactive" data-svcmgmtnum="{{ svcMgmtNum }}" data-showname="{{ showName }}" data-svcnum="{{ svcNum }}">
        <div class="state-box">
            <p class="ti">{{ showName }}</p>
            <span class="ph">{{ showDetail }}</span>
        </div>
        <div class="bt-active">
            <button class="fe-bt-add" type="button">추가</button>
        </div>
        <span class="ico-move" aria-hidden="true"><span class="blind">목록 이동</span><span class="ico"></span></span><!-- 접근성 수정 -->
        <div class="state-bt">
            <button class="bt-sort up"><span class="blind">해당 회선 위로</span></button>
            <button class="bt-sort down"><span class="blind">해당 회선 아래로</span></button>
        </div>
    </li>
    {{/each}}
</script>
<script>
  $(document).ready(function () {
    new Tw.CommonMemberLineEdit($('#commonLineEdit'), '<%= category %>', '<%= otherCnt %>');
  });
</script>
<% include ../../components/end.component.html %>