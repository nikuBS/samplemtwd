<%#
* @file customer.researches.result.html
* @author Jiyoung Jo
* @since 2019.01.04
* id: CS_12_04
%>

<%- include('../../components/start.component.html', { pageInfo: locals.pageInfo }); %>
<body>
    <!-- #skip_navigation -->
    <div id="skipNav" class="skip_navi">
        <ul>
            <!-- Grand open 접근성 수정 -->
            <li><a href="#contents-area" class="fe-replace-history">본문 바로가기</a></li>
            <!--  //Grand open 접근성 수정 -->
        </ul>
    </div>
    <!--// #skip_navigation -->
    <div class="wrap" data-menuId="<%= pageInfo.menuId %>">
        <!-- #header -->
        <%- include('../../../common/views/components/header.component.html', { title: '결과 보기', svcInfo: svcInfo, pageInfo: locals.pageInfo }); %>
        <!--// #header -->
        <!-- #contents -->
        <div id="contents" class="container-wrap">
            <h2 id="contents-area" tabindex="-1"><span class="blind">본문시작</span></h2>
            <div class="container">
                <hr class="cont-sp type1" aria-hidden="true">
                <!-- .cont-box -->
                <div class="cont-box">
                    <!-- .tod-poll-title -->
                    <div class="tod-poll-title">
                        <span class="poll-type">[<%= result.bnnrRsrchTypCd === 'P' ? '투표' : '퀴즈' %>]</span><!-- 투표, 퀴즈 -->
                        <span class="poll-question"><%= result.bnnrRsrchTitleNm %></span>                        
                    </div>
                    <!-- // .tod-poll-title -->
                </div>
                <!-- // .cont-box -->
                <hr class="cont-sp type1" aria-hidden="true">
                <!-- .cont-box -->
                <div class="cont-box">
                    <!-- poll-chart-box -->
                    <div class="poll-chart-box tod-poll-chart-box">
                        <% result.examples.map((exam, idx) => { 
                            let color = '';
                            if (result.bnnrRsrchTypCd === 'Q') {
                                color = exam.isAnswer ? 'red' : 'gray'
                            } else {
                                color = result.maxIdx === idx ? 'red' : 'gray'
                            } %>
                        <div class="poll-chart-sbox">
                            <dl class="poll-chart-txt <%= exam.isAnswer ? 'correct' : '' %>">
                                <dt>
                                    <% if (result.bnnrRsrchTypCd === 'Q' && exam.isAnswer) { %>
                                        <span class="tx-bold">[정답]</span>
                                    <% } %>
                                    <%= exam.content === 'QSTNETC' ? '기타' : exam.content %>
                                </dt>
                                <dd><%= exam.count %>표(<%= exam.rate %>%)</dd>
                            </dl>
                            <div class="bar-chart-hoz">
                                <span class="data-bar <%= color %>" style="width:<%= exam.rate %>%;"></span>
                            </div>
                        </div>
                        <% }); %>
                    </div>
                    <!-- // poll-chart-box -->
                </div>
                <!-- // .cont-box -->
                <hr class="cont-sp type1" aria-hidden="true">
                <!-- delight -->
                <% if (result.motMsgHtmlCtt) { %><%- result.motMsgHtmlCtt %><% } %>
                <!-- // delight -->
            </div>
        </div>
        <!--// #contents -->
        <%- include('../../../common/views/components/footer.component.html', { svcInfo: svcInfo, pageInfo: pageInfo }); %>
    </div>
</body>

<% include ../../components/javascript.component.html %>
<% include ../../components/end.component.html %>
