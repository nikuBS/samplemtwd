<%#
* MenuName: 할인/혜택 > 나의 할인 혜택 > 레인보우 포인트
* @file benefit.my-benefit.rainbow-point.html
* @author 이정민 (skt.p130713@partner.sk.com)
* @since 2018.10.26
* Summary: 레인보우 포인트 정보 조회 화면
%>

<%- include('../../components/start.component.html', { pageInfo: locals.pageInfo }); %>
<% include ../../components/javascript.component.html %>
<% include ../../components/my-benefit/benefit.my-benefit.rainbow-point.component.html %>

<!-- #skip_navigation -->
<div id="skipNav" class="skip_navi">
    <ul>
        <li><a href="#contents-area" class="fe-replace-history">본문 바로가기</a></li>
    </ul>
</div>
<!--// #skip_navigation -->

<div id="fe-my-benefit-rainbow-point" class="wrap" data-menuId="<%= pageInfo.menuId %>">
    <!-- #header -->
    <%- include('../../../../common/views/components/header.component.html', { title: '레인보우 포인트', svcInfo: svcInfo }); %>
    <!--// #header -->
    <!-- #contents -->
    <div id="contents" class="container-wrap">
        <h2 id="contents-area" tabindex="-1"><span class="blind">본문시작</span></h2>
        <div class="container">
            <!-- .cont-box -->
            <div class="cont-box">
                <div class="charge-guide-wrap">
                    <div class="charge-cont">
                        <span class="sub-disc05">
                            레인보우 포인트
                        </span>
                        <span class="tit tx-blue"><span class="charge-txt"><%= rainbowPointsInfo.usblPoint %></span>P</span>
                    </div>

                    <div class="charge-cont">
                        <div class="basic-list bg-type">
                            <ul>
                                <li>
                                    <span class="title">총 적립</span>
                                    <span class="tx-cont"><%= rainbowPointsInfo.erndPoint %> P</span>
                                </li>
                                <li>
                                    <span class="title">총 사용</span>
                                    <span class="tx-cont"><%= rainbowPointsInfo.usdPoint %> P</span>
                                </li>
                                <li>
                                    <span class="title">총 소멸</span>
                                    <span class="tx-cont"><%= rainbowPointsInfo.exprdPoint %> P</span>
                                </li>
                                <% if (parseInt(rainbowPointsInfo.nearlyExprdPoint, 10) > 0) { %>
                                <li>
                                    <span class="title">이번달 소멸 예정</span>
                                    <span class="tx-cont"><%= rainbowPointsInfo.nearlyExprdPoint %> P</span>
                                </li>
                                <% } %>
                            </ul>
                        </div>
                    </div>

                    <!--<button class="bt-link-tx underline">포인트 안내 자세히보기</button>-->
                </div>
            </div>
            <!--// .cont-box -->

            <hr class="cont-sp type1" aria-hidden="true"/>

            <!-- .cont-box -->
            <div class="cont-box nogaps-hoz">
                <ul class="link-list type2">
                    <li>
                        <dl>
                            <dt>포인트 합산<button type="button" class="tip-view" id="BS_01_01_tip_01" title="포인트 합산 TIP보기" aria-haspopup="true">정보보기</button><!--레이어팝업으로 띄울경우 aria-haspopup="true" 속성 추가--></dt>
                            <dd>
                                <a role="button" class="fe-anchor-go-adjustment" href="/benefit/my/rainbowpoint/adjustment">포인트 합산 화면 이동</a>
                            </dd>
                        </dl>
                    </li>
                    <li>
                        <dl>
                            <dt>청소년 - 법정대리인 간 양도<button type="button" class="tip-view" id="BS_01_01_tip_02" title="포인트 양도 TIP보기" aria-haspopup="true">정보보기</button><!--레이어팝업으로 띄울경우 aria-haspopup="true" 속성 추가--></dt>
                            <dd>
                                <a role="button" class="fe-anchor-go-transfer" href="/benefit/my/rainbowpoint/transfer">청소년 - 법정대리인 간 양도 화면 이동</a>
                            </dd>
                        </dl>
                    </li>
                </ul>
            </div>
            <!--// .cont-box -->

            <div class="ti-caption-gray">
                <h4 class="tit">상세내역</h4>
            </div>
            <!-- .cont-box -->
            <div class="cont-box nogaps">
                <% if (rainbowPointHistories.length > 0) { %>
                    <ul class="list-comp-lineinfo type5 no-bt" data-list-cnt="<%= rainbowPointHistoryCount %>">
                    <% for (var i = 0; i < rainbowPointHistories.length; i++) { %>
                        <% if ( i >= 10 ) { %>
                        <li style="display: none" aria-hidden="true">
                        <% } else { %>
                        <li aria-hidden="false">
                        <% } %>
                            <div class="lineinfo-user">
                                <span class="info-title"><%= rainbowPointHistories[i].opClNm %></span>
                                <span class="info-sub">
                                    <span class="elem"><%= rainbowPointHistories[i].opDtl %></span>
                                    <span class="elem"><%= rainbowPointHistories[i].opDt %></span>
                                </span>
                            </div>
                            <div class="lineinfo-data">
                                <span class="info-title">
                                    <span class="num ff-tg-black"><%= rainbowPointHistories[i].point %></span><span class="unit ff-tg-medium">P</span>
                                </span>
                            </div>
                        </li>
                    <% } %>
                    </ul>
                    <% if (rainbowPointHistories.length > 10) { %>
                    <!-- 190625_[OP002-1761] 추가01 -->
                    <div class="btn-more mr16 ml16">
                        <button class="fe-btn_more">더보기</button>
                    </div>
                    <!-- //190625_[OP002-1761] 추가01 -->
                    <% } %>
                <% } else { %>
                    <div class="contents-empty tod-narrow-empty"> <!-- //190625 [OP002-1760] 수정01 -->
                        <span class="ico type1"></span>
                        <p class="desc">내역이 없습니다.</p>
                    </div>
                <% } %>
            </div>
            <!--// .cont-box -->

            <!--// .cont-box -->
            <!-- 190625_[OP002-1761] 현행화 -->
            <!-- <hr class="cont-sp type1" aria-hidden="true"/> -->
            <!-- //190625_[OP002-1761] 현행화 -->
            <!-- .cont-box -->
            <!-- 190625_[OP002-1761] 현행화 -->
            <div class="cont-box noborder bgnone">
                <h3 class="pg-chk-tit">꼭 확인해 주세요</h3>
                <ul class="pg-chk-list02">
                    <li>
                        <button type="button" class="btn-tip" title="TIP 보기" aria-haspopup="true" id="BS_01_01_tip_03"><!--웹접근성 수정 -->
                            적립 안내<i class="icon-badge-tip"><span class="blind">tip</span></i>
                        </button>
                    </li>
                    <li>
                        <button type="button" class="btn-tip" title="TIP 보기" aria-haspopup="true" id="BS_01_01_tip_04"><!--웹접근성 수정 -->
                            사용 안내<i class="icon-badge-tip"><span class="blind">tip</span></i>
                        </button>
                    </li>
                    <li>
                        <button type="button" class="btn-tip" title="TIP 보기" aria-haspopup="true" id="BS_01_01_tip_06"><!--웹접근성 수정 -->
                            소멸예정포인트 안내<i class="icon-badge-tip"><span class="blind">tip</span></i>
                        </button>
                    </li>
                </ul>
            </div>
            <!-- //190625_[OP002-1761] 현행화 -->
            <!--// .cont-box -->
        </div>
    </div>
    <!--// #contents -->
    <%- include('../../../../common/views/components/footer.component.html', { svcInfo: svcInfo, pageInfo: pageInfo }); %>
</div>

<script>
  $(document).ready(function () {
    new Tw.BenefitMyBenefitRainbowPoint($('#fe-my-benefit-rainbow-point'), {
      isMultiLineToAdjustment: $.parseJSON("<%= isMultiLineToAdjustment %>"),
      isMultiLineToTransfer: $.parseJSON("<%= isMultiLineToTransfer %>")
    });
  });
</script>
<% include ../../components/end.component.html %>
