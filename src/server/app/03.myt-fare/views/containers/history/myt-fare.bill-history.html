<%#
* FileName: myt-fare.bill-history.html
* Author: Lee Sanghyoung (silion@sk.com)
* Date: 2018.09.17
%>
<% include ../../components/start.component.html %>
<body>
<!-- #skip_navigation -->
<div id="skipNav" class="skip_navi">
    <ul>
        <li><a href="#gnb">메뉴 바로가기</a></li>
        <li><a href="#contents">본문 바로가기</a></li>
        <li><a href="#footer">푸터 바로가기</a></li>
    </ul>
</div>
<!--// #skip_navigation -->

<div class="wrap">
    <% if(data.current === 'tax') { %>
    <%- include('../../../../../common/views/components/header.component.html', { title: '세금 계산서 발급 내역', svcInfo: svcInfo, line: false}); %>
    <% } else { %>
    <%- include('../../../../../common/views/components/header.component.html', { title: '현금 영수증 발급 내역', svcInfo: svcInfo, line: false}); %>
    <% } %>

    <% if(data.isTax) { %>
    <!-- #contents -->
    <div id="contents" class="container-wrap">
        <h2 class="blind">내용</h2>
        <div id="fe-tax-list-wrapper">

        </div>
    </div>
    <!--// #contents -->
    <% } else { %>
    <!-- #contents -->
    <div id="contents" class="container-wrap">
        <h2 class="blind">내용</h2>
        <div class="container">

            <div id="fe-cash-list-wrapper">

            </div>

            <hr class="cont-sp type1" aria-hidden="true"/>

            <img src="/img/dummy/DC_02_TBD2.jpg" alt="이용안내 노출 영역" style="width:100%;vertical-align: top;">
        </div>
    </div>
    <!--// #contents -->
    <% } %>



</div>

<% include ../../components/javascript.component.html %>
<script>
  $(document).ready(function () {
    new Tw.MyTFarePaymentBillHistory($(document), '<%- JSON.stringify(data) %>');
  });
</script>
<script id="fe-template-tax-list" type="text/x-handlebars-template">
  <div class="container">
      <!-- .cont-box -->
      <div class="cont-box noborder nogaps bgnone">
          <div class="myt-note-wrap">
              <span class="tit">6개월간의 발행 내역만 확인 가능합니다.</span>
          </div>
          <div class="fe-list-inner">
          {{>taxList}}
          </div>
          {{#if initialMoreData}}
          <div class="bt-more round">
              <button>더보기</button>
          </div>
          {{/if}}
      </div>
      <!--// .cont-box -->
  </div>
</script>
<script id="fe-template-tax-items" type="text/x-handlebars-template">
    {{#each items}}
    <div class="myfare-result-wrap">
        <div class="myfare-list">
            <ul>
                <li>
                    <dl class="show-data">
                        <dt>발행일자</dt>
                        <dd class="tx-bold"><span class="number">{{taxBillIsueDt}}</span></dd>
                    </dl>
                </li>
                <li>
                    <dl class="show-data">
                        <dt>고객/사업자명</dt>
                        <dd class="tx-bold">{{ctzBizName}}</dd>
                    </dl>
                </li>
                <li>
                    <dl class="show-data">
                        <dt>사업자 번호</dt>
                        <dd class="tx-bold"><span class="number">{{ctzBizNum}}</span></dd>
                    </dl>
                </li>
                <li>
                    <dl class="show-data">
                        <dt>납부금액</dt>
                        <dd></dd>
                    </dl>
                    <dl class="show-data detail">
                        <dt>공급가액</dt>
                        <dd><span class="number">{{splyPrc}}</span>원</dd>
                    </dl>
                    <dl class="show-data detail">
                        <dt>부가세액</dt>
                        <dd><span class="number">{{vatAmt}}</span>원</dd>
                    </dl>
                    <dl class="show-data detail">
                        <dt>합계금액</dt>
                        <dd><span class="number">{{totAmt}}</span>원</dd>
                    </dl>
                </li>
            </ul>
        </div>
        <ul class="bt-slice item-two mt40">
            <li class="bt-white1">
                <button class="fe-btn-fax" data-list-id="{{listId}}">팩스 재발행하기</button>
            </li>
            <li class="bt-white1">
                <button class="fe-btn-email" data-list-id="{{listId}}">이메일 재발행 하기</button>
            </li>
        </ul>
    </div>
    {{/each}}
</script>
<script id="fe-template-cash-items" type="text/x-handlebars-template">
    {{#each items}}
    <div class="li-elem">
        <div class="title-box">
            <span class="tit">발급 금액</span>
            <span class="sub-tit">{{dataPhoneNumber}}</span>
        </div>
        <div class="price"><span class="tx-price">{{dataAmt}}</span><span class="unit">원</span></div>
    </div>
    {{/each}}
</script>
<script id="fe-template-cash-day" type="text/x-handlebars-template">
    {{#each records}}
    {{#if yearHeader}}
    {{>year year=yearHeader}}
    {{/if}}
    <li>
        <span class="tx-date">{{date}}</span>
        {{>chargeItems items=items}}
    </li>
    {{/each}}
</script>
<script id="fe-template-cash-year" type="text/x-handlebars-template">
    <li class="year-tx" data-year="{{year}}">{{year}}</li>
</script>
<script id="list-template-cash-wrapper" type="text/x-handlebars-template">
    <!-- .cont-box -->
    <div class="cont-box nogaps">
        <div class="history-list">
            <ul class="fe-list-inner">
                {{>list records=records}}
            </ul>
        </div>
    </div>
    <!--// .cont-box -->
    {{#if initialMoreData}}
    <div class="bt-more">
        <button>더보기<span>({{restCount}})</span></button>
    </div>
    {{/if}}
</script>
<script id="list-empty" type="text/x-handlebars-template">
    <div class="container">
        <!-- .cont-box -->
        <div class="no-data">
            <span>내역이 없습니다.</span>
        </div>
    </div>
</script>
</body>
<% include ../../components/end.component.html %>
