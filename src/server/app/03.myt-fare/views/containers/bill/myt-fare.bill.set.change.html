<%#
* @file myt-fare.bill.set.change.html
* @author 양정규 (skt.P130715@partner.sk.com)
* @since 2018.09.18
* 나의요금 > 요금 안내서 설정 > 안내서 변경
%>

<%- include('../../components/start.component.html', { pageInfo: locals.pageInfo }); %>
<body>
<div class="wrap" data-menuId="<%= pageInfo.menuId %>">
    <div class="page popup-page tw-popup fixed-bottom h60">
        <!-- 하단에 fixed 버튼으로 여백이 필요할때 .fixed-bottom 기본60여백 / 높이 30단위 class 지원 .h30, .h60, .h90 ... 기본배경색은 white, 회색배경색은 .nobg -->
        <!-- #header -->
        <%- include('../components/header.component.html', { title: '요금안내서 변경', type: 'popup', svcInfo: svcInfo, pageInfo: pageInfo }); %>
        <!--// #header -->
        <!-- .container-wrap -->
        <div class="container-wrap">
            <h2 class="blind">내용</h2>
            <div class="container">
                <!-- .cont-box -->
                <div class="cont-box">
                    <p class="con-tit0">요금안내서 유형</p>
                    <p class="con-b-txt0 pt2"><%= data.changeBillInfo.nm %></p>
                </div>

                <!-- .cont-box -->
                <% if ( data.togetherList ) {%>
                <hr class="cont-sp type1" aria-hidden="true"/>
                <div class="cont-box nogaps pt20">
                    <p class="con-tit0 pb14 pl16">함께 받을 요금안내서 선택</p>
                    <div class="list-comp-input">
                        <div class="widget">
                            <div class="widget-box radio">
                                <ul class="select-list" role="group">
                                    <% data.togetherList.forEach( (v, i) => { %>
                                    <li class="radiobox type01-big mid-top" role="radio" aria-checked="false">
                                        <input type="radio" name="together" value="<%= v.cd%>" title="함께 받을 요금안내서 선택" aria-labelledby="aria-comp1-radio<%=i%>"/>
                                        <div class="comp-list-layout" id="aria-comp1-radio<%=i%>">
                                            <p class="layout-text">
                                                <span class="mtext"><%= v.nm%></span>
                                            </p>
                                        </div>
                                    </li>
                                    <%})%>
                                </ul>
                            </div>
                        </div>
                    </div>
                </div>
                <%}%>
                <!--// .cont-box -->
                <hr class="cont-sp type1 none" aria-hidden="true"/>
                <!-- .cont-box -->
                <div id="fe-section3" class="cont-box nogaps">
                    <!-- 이메일 area -->
                    <div id="fe-email-area" class="cont-box pb0 none">
                        <p class="con-tit0 pb12">이메일 주소</p>
                        <span class="inputbox">
                            <span class="input">
                                <input type="text" placeholder="이메일 입력" title="이메일 주소를 입력해 주세요" name="invEmailAddr"
                                       value="<%= data.invEmailAddr%>"
                                       aria-describedby="aria-exp-desc1"
                                       data-inactive-target data-valid-type="email"/>
                                <button class="cancel"><span class="blind">삭제</span></button>
                            </span>
                        </span>
                        <div class="widget pt20">
                            <div class="widget-box check">
                                <ul class="select-list" role="group">
                                    <li class="checkbox type01 mb16 checked" id="aria-comp-checkbox1" role="checkbox" aria-checked="true">
                                        <!-- 체크 상태일 경우 .checked 클래스 추가, aria-checked="true" -->
                                        <input id="fe-scurMailYn" type="checkbox" name="scurMailYn" aria-labelledby="aria-comp-checkbox1" value="Y" checked/>
                                        <!-- 체크상태일 경우 checked="checked" -->
                                        이메일 보안 설정
                                    </li>
                                    <li class="checkbox type01 mb16 checked" id="aria-comp-checkbox2" role="checkbox" aria-checked="true">
                                        <!-- 체크 상태가 아닐 경우 .checked 클래스 삭제, aria-checked="false" -->
                                        <input type="checkbox" name="emailRcvAgreeYn" aria-labelledby="aria-comp-checkbox2" value="Y" checked/>
                                        <!-- 체크상태일 경우 checked="false" -->
                                        입력한 이메일로 다양한 혜택 정보 받기
                                    </li>
                                </ul>
                            </div>
                        </div>
                    </div>
                    <!--// 이메일 area -->

                    <% if( '1' === data.changeBillInfo.cd ) { %>
                        <!--기타(우편) area-->
                        <div class="cont-box pb0">
                            <p class="con-tit0 pb12">우편 주소</p>

                            <!--주소가 있을 때-->
                            <div id="fe-addr-area" class="none">
                            <span class="inputbox bt-add inp-btn">
                                <span class="input">
                                    <input type="text" class="fe-zip" name="zip" title="우편번호"
                                           data-inactive-target data-valid-type="addr" disabled/>
                                </span>
                                <span class="bt-box">
                                    <button type="button" class="fe-search-zip">우편번호 검색</button>
                                </span>
                            </span>
                                <span class="inputbox mt6">
                                <span class="input">
                                    <input type="text" class="fe-main-address" name="basAddr" title="기본 주소"
                                           data-inactive-target data-valid-type="addr" disabled/>
                                </span>
                            </span>
                                <span class="inputbox mt6">
                                <span class="input">
                                    <input type="text" class="fe-detail-address" name="dtlAddr" placeholder="상세주소 입력"
                                           title="상세 주소" data-inactive-target data-valid-type="addr" data-state="true"/>
                                    <button class="cancel"><span class="blind">삭제</span></button>
                                </span>
                            </span>
                            </div>
                            <!--// 주소가 있을 때-->

                            <!--주소 없을 때는 우편번호 검색 만 보임-->
                            <ul id="fe-no-addr-area" class="bt-slice none">
                                <li class="bt-blue1">
                                    <button class="fe-search-zip">우편번호 검색</button>
                                </li>
                            </ul>
                            <!--// 주소 없을 때는 우편번호 검색 만 보임-->

                        </div>

                        <!--우편물 발송주기 area-->
                        <% if(data.billSndCyclYn === 'Y') { %>
                        <div class="cont-box nogaps pt36">
                            <p class="con-tit0 pb14 pl16">우편물 발송주기</p>
                            <div class="list-comp-input">
                                <div class="widget">
                                    <div class="widget-box radio">
                                        <ul class="select-list" role="group">
                                            <li class="radiobox type01-big mid-top checked" role="radio" aria-checked="true">
                                                <input type="radio" name="billSndCyclCd" value="1" title="우편물 발송주기"
                                                       aria-labelledby="aria-comp-radio1" checked="" data-state="true"/>
                                                <div class="comp-list-layout" id="aria-comp-radio1">
                                                    <p class="layout-text">
                                                        <span class="mtext">매달</span>
                                                    </p>
                                                </div>
                                            </li>
                                            <li class="radiobox type01-big mid-top" role="radio" aria-checked="false">
                                                <input type="radio" name="billSndCyclCd" value="2" title="우편물 발송주기"
                                                       aria-labelledby="aria-comp-radio2" data-state="true"/>
                                                <div class="comp-list-layout" id="aria-comp-radio2">
                                                    <p class="layout-text">
                                                        <span class="mtext">격월</span>
                                                    </p>
                                                </div>
                                            </li>
                                            <li class="radiobox type01-big mid-top" role="radio" aria-checked="false">
                                                <input type="radio" name="billSndCyclCd" value="3" title="우편물 발송주기"
                                                       aria-labelledby="aria-comp-radio3" data-state="true"/>
                                                <div class="comp-list-layout" id="aria-comp-radio3">
                                                    <p class="layout-text">
                                                        <span class="mtext">분기</span>
                                                    </p>
                                                </div>
                                            </li>
                                            <li class="radiobox type01-big mid-top" role="radio" aria-checked="false">
                                                <input type="radio" name="billSndCyclCd" value="4" title="우편물 발송주기"
                                                       aria-labelledby="aria-comp-radio4" data-state="true"/>
                                                <div class="comp-list-layout" id="aria-comp-radio4">
                                                    <p class="layout-text">
                                                        <span class="mtext">반기</span>
                                                    </p>
                                                </div>
                                            </li>
                                        </ul>
                                    </div>
                                </div>
                            </div>
                            <ul class="con-dot-txt0 pl16 pt20">
                                <li>월 요금안내서와 미발송 청구내역이 함께 발송됩니다.</li>
                                <li>격월 : 2 / 4 / 6 / 8 / 10 / 12월</li>
                                <li>분기 : 3 / 6 / 9 / 12월</li>
                                <li>반기 : 6 / 12월</li>
                            </ul>
                        </div>
                        <%}%>
                        <!--// 우편물 발송주기 area-->
                    <%}%>
                    <!--//기타(우편) area-->

                    <%if
                        (data.hpParam.name !== ''){
                        let teltitleName = data.hpParam.name === 'cntcNum1' ? '연락처':'휴대폰 번호';
                    %>
                    <!--노출 CASE : 우편, 유선 ( Bill Letter, 문자 )-->
                    <!--휴대폰번호 area-->
                    <div class="cont-box pb0">
                        <p class="con-tit0"><%=teltitleName%></p>
                        <%- include( '../../components/bill/myt-fare.bill.set.change.cell-phone.html', data.hpParam) %>
                    </div>
                    <!--// 휴대폰번호 area-->
                    <%}%>

                    <!--
                    ** 옵션 비노출 조건
                    -무선 && T world 확인 && SMS수신불가 단말
                    -유선 && T world 확인-->
                    <%if(
                        !('P' === data.changeBillInfo.cd &&
                        (('M' === data.lineType && 'N' === data.isusimchk) || 'S' === data.lineType))
                    ) {%>
                    <div id="fe-option-list" class="cont-box pb0 none">
                        <p class="con-tit0 pb14">옵션설정</p>
                        <ul class="on-off-list new">
                            <li class="fe-nreqGuidSmsSndYn none">
                                문자 수신<br/>
                                <span class="sub-tx">매월 초 청구 금액이 확정되면 청구요금, 납부일 등을<br>T world에서 확인할 수 있도록 문자로 안내해 드립니다.</span>
                                <span class="widget">
                                    <span class="widget-box switch">
                                        <span class="btn-switch type1 on">
                                            <span class="switch-style" role="checkbox" aria-checked="true">
                                                <span class="off-tx">꺼짐</span>
                                                <input type="checkbox" name="nreqGuidSmsSndYn" value="Y" title="문자 수신"/>
                                                <span class="on-tx">켜짐</span>
                                            </span>
                                        </span>
                                    </span>
                                </span>
                            </li>
                            <li class="fe-scurBillYn none">
                                Bill Letter 보안강화<br/>
                                <span class="sub-tx">생년월일 입력 후 요금안내서를 조회하여<br/>Bill Letter의 보안을 강화합니다.</span>
                                <span class="widget">
                                    <span class="widget-box switch">
                                        <span class="btn-switch type1 on">
                                            <span class="switch-style" role="checkbox" aria-checked="true">
                                                <span class="off-tx">꺼짐</span>
                                                <input type="checkbox" name="scurBillYn" value="Y" title="Bill Letter 보안강화"/>
                                                <span class="on-tx">켜짐</span>
                                            </span>
                                        </span>
                                    </span>
                                </span>
                            </li>
                            <li class="fe-phonNumPrtClCd none">
                                휴대폰번호 전체 표시<br/>
                                <span class="sub-tx">일부 별표 표시없이 전체 휴대폰번호를<br/>표시합니다.</span>
                                <span class="widget">
                                    <span class="widget-box switch">
                                        <span class="btn-switch type1 on">
                                            <span class="switch-style" role="checkbox" aria-checked="true">
                                                <span class="off-tx">꺼짐</span>
                                                <input type="checkbox" name="phonNumPrtClCd" value="Y" title="휴대폰번호 전체 표시"/>
                                                <span class="on-tx">켜짐</span>
                                            </span>
                                        </span>
                                    </span>
                                </span>
                            </li>
                            <!--인터넷 회선은 "콘텐츠 이용 상세내역 표시" 없음 -->
                            <li class="fe-infoInvDtlDispYn none">
                                콘텐츠 이용 상세내역 표시
                                <span class="widget">
                                    <span class="widget-box switch">
                                        <span class="btn-switch type1 on">
                                            <span class="switch-style" role="checkbox" aria-checked="true">
                                                <span class="off-tx">꺼짐</span>
                                                <input type="checkbox" name="infoInvDtlDispYn" value="Y" title="콘텐츠 이용 상세내역 표시"/>
                                                <span class="on-tx">켜짐</span>
                                            </span>
                                        </span>
                                    </span>
                                </span>
                            </li>

                            <li class="fe-ccurNotiYn none">
                                법정대리인 함께 수령
                                <span class="widget">
                                    <span class="widget-box switch">
                                        <span class="btn-switch type1">
                                            <span class="switch-style" role="checkbox" aria-checked="false">
                                                <span class="off-tx">꺼짐</span>
                                                <input type="checkbox" name="ccurNotiYn" value="Y" title="법정대리인 함께 수령" data-toggle-id="fe-ccurNotiSvcNum"/>
                                                <span class="on-tx">켜짐</span>
                                            </span>
                                        </span>
                                    </span>
                                </span>
                            </li>
                        </ul>
                        <!--법정대리인 함께 수령 > 핸드폰 번호 area-->
                        <div id="fe-ccurNotiSvcNum" class="none">
                            <%- include( '../../components/bill/myt-fare.bill.set.change.cell-phone.html', data.deputyHpParam) %>
                            <ul class="con-star-txt0 pt16 pb10">
                                <li>미성년고객의 요금안내서는 법정대리인 휴대폰번호로<br/>동시 안내됩니다.</li>
                            </ul>
                        </div>
                        <!--법정대리인 함께 수령 > 핸드폰 번호 area-->
                    </div>
                    <%}%>
                    <!--// 옵션설정 끝-->
                </div>
                <!--// .cont-box -->

                <hr class="cont-sp type1" aria-hidden="true"/><!-- 2018-11-02 수정 -->
                <!-- .cont-box -->
                <div class="cont-box noborder bgnone">
                    <h3 class="pg-chk-tit">꼭 확인해 주세요</h3>
                    <ul class="pg-chk-list02">
                        <li>
                            <button id="<%=data.tipId%>" page-id="" class="btn-tip" aria-haspopup="true">요금안내서 이용안내<i class="icon-badge-tip"><span class="blind">요금안내서 이용안내 tip</span></i>
                            </button>
                        </li>
                    </ul>
                </div>
                <!--// .cont-box -->
            </div>
            <div class="bt-fixed-area">
                <ul class="bt-slice full">
                    <li class="bt-red1">
                        <button id="fe-submit" disabled>변경하기</button>
                    </li>
                </ul>
            </div>
        </div>
        <!--// .container-wrap -->
        <!-- .popup-closeBtn -->
        <button id="fe-back" class="prev-step fe-common-back">취소</button>
        <!--// .popup-closeBtn -->
    </div>
</div>
</body>

<% include ../../components/javascript.component.html %>
<script>
  $(document).ready(function () {
    new Tw.MyTFareBillSetChange($('.wrap'), '<%- JSON.stringify(data)%>');
  });
</script>
<% include ../../components/end.component.html %>
