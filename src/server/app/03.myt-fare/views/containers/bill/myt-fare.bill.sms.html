<%#
* @file myt-fare.bill.sms.html
* @author Jayoon Kong (jayoon.kong@sk.com)
* @since 2018.09.18
%>

<%- include('../../components/start.component.html', { pageInfo: locals.pageInfo }); %>
<body>
    <div id="myt-fare-bill-sms" class="wrap" data-menuId="<%= pageInfo.menuId %>">
        <div class="popup-page tw-popup fixed-bottom h60 nobg">
            <!-- #header (공통 component 사용) -->
            <%- include('../components/header.component.html', { title: '입금전용계좌 문자 신청', type: 'popup', svcInfo: svcInfo, pageInfo: pageInfo }); %>
            <!--// #header -->
            <!-- .container-wrap -->
            <div id="contents" class="container-wrap">
                <h2 class="blind">내용</h2>
                <div class="container">
                    <hr class="cont-sp type1" aria-hidden="true"/>
                    <!-- 미납 정보가 존재하는 경우 -->
                    <% if (!isAllPaid) { %>
                    <!-- .cont-box -->
                    <div class="cont-box">
                        <!-- 미납 회선정보 공통 컴포넌트 -->
                        <% include ../../components/bill/myt-fare.bill.common.component.html %>
                    </div>
                    <!--// .cont-box -->
                    <hr class="cont-sp type1" aria-hidden="true"/>
                    <% } %>
                    <!-- .cont-box -->
                    <% if (virtualBankList.length > 0) { %>
                    <div class="cont-box noborder">
                        <div class="user-info-form" role="group">
                            <!--현재 회선이 모바일 회선인 경우-->
                            <%if(svcInfo.svcAttrCd === 'M1'){%>
                            <div class="info-form-box">
                                <p class="form-label">문자 받는 번호</p>
                                <span class="inputbox">
                                    <span class="input">
                                      <input class="fe-hp-selector" type="text" placeholder="핸드폰 번호" title="문자 받는 핸드폰 번호" value="<%= mobileList[0].svcNum %>"
                                             data-svc-mgmt-num="<%= mobileList[0].svcMgmtNum%>"
                                             maxlength="13" readonly>
                                      <button class="cancel"><span class="blind">삭제</span></button>
                                    </span>
                                </span>
                            </div>
                            <%}%>
                            <!--OP002-3464 현재 회선이 유선 회선이면서, 모바일회선(문자받는번호) 있는 경우만 노출-->
                            <%if(svcInfo.svcAttrCd !== 'M1' &&mobileList.length > 0){%>
                            <div class="info-form-box">
                                <p class="form-label">문자 받는 번호</p>
                                <button id="<%= mobileList[0].svcMgmtNum %>"
                                        class="bt-dropdown big fe-hp-selector"
                                        title="문자 받는 핸드폰 번호" aria-haspopup="true"><%= mobileList[0].svcNum %><span class="ico"></span>
                                </button>
                                <ul class="fe-hp-list none">
                                    <% for (var i = 0; i < mobileList.length; i++) { %>
                                    <li id="<%= mobileList[i].svcMgmtNum %>"><%= mobileList[i].svcNum %></li>
                                    <% } %>
                                </ul>
                            </div>
                            <%}%>
                            <div class="info-form-box">
                                <p class="form-label">
                                    입금하실 계좌번호 <button id="MF_01_04_tip_01" class="tip-view" title="입금하실 계좌번호" aria-haspopup="true" type="button">TIP</button>
                                </p>
                                <button id="<%= virtualBankList[0].bankCd %>" data-origin-id="<%= virtualBankList[0].bankCd %>"
                                        class="bt-dropdown big fe-account-selector"
                                        title="입금하실 은행 계좌번호" aria-haspopup="true">
                                    <%= virtualBankList[0].sBankNm + ' ' + virtualBankList[0].sVirtualBankNum %><span class="ico"></span>
                                </button>
                                <ul class="fe-account-list none">
                                    <% for (var i = 0; i < virtualBankList.length; i++) { %>
                                    <li id="<%= virtualBankList[i].bankCd %>"><%= virtualBankList[i].sBankNm %> <%= virtualBankList[i].sVirtualBankNum %></li>
                                    <% } %>
                                </ul>
                            </div>
                        </div>
                    </div>
                    <!--// .cont-box -->

                    <hr class="cont-sp type1" aria-hidden="true"/>

                    <!-- .cont-box -->
                    <div class="cont-box noborder bgnone">
                        <h3 class="pg-chk-tit">꼭 확인해 주세요</h3>
                        <div class="announcement-box pt10"><p class="announcement-txt">타행에서 입금하는 경우 이체수수료가 부가될 수 있습니다.</p></div>
                        <ul class="pg-chk-list02">
                            <li>
                                <button id="MF_01_04_tip_02" page-id="" class="btn-tip" aria-haspopup="true">
                                    청구요금 정보확인<i class="icon-badge-tip"><span class="blind">tip</span></i>
                                </button>
                            </li>
                            <li>
                                <button id="MF_01_04_tip_03" page-id="" class="btn-tip" aria-haspopup="true">
                                    이용시간 안내<i class="icon-badge-tip"><span class="blind">tip</span></i>
                                </button>
                            </li>
                            <li>
                                <button id="MF_01_04_tip_04" page-id="" class="btn-tip" aria-haspopup="true">
                                    입금전용계좌 안내<i class="icon-badge-tip"><span class="blind">tip</span></i>
                                </button>
                            </li>
                            <li>
                                <button id="MF_01_01_tip_03" page-id="" class="btn-tip" aria-haspopup="true">
                                    통합청구이용고객 안내<i class="icon-badge-tip"><span class="blind">tip</span></i>
                                </button>
                            </li>
                        </ul>
                    </div>
                    <!--// .cont-box -->
                    <% } %>

                </div>
                <!-- .bt-fixed-area 바닥고정 버튼은 이 안에다가 추가 -->
                <% if (virtualBankList.length > 0 && mobileList.length > 0) { %>
                <div class="bt-fixed-area">
                    <ul class="bt-slice full">
                        <li class="bt-red1">
                            <button class="fe-pay">SMS 보내기</button>
                        </li>
                    </ul>
                </div>
                <% } %>
                <!-- // .bt-fixed-area 바닥고정 버튼은 이 안에다가 추가 -->
            </div>
            <!--// #contents -->
            <!-- .popup-cloeBtn -->
            <button class="prev-step fe-close">취소</button>
            <!--// .popup-closeBtn -->
        </div>
        <footer id="fe-all-menu">
            <%- include('../../../../common/views/components/masking.component.html', { svcInfo: svcInfo, pageInfo: pageInfo }); %>
        </footer>
    </div>
</body>
<% include ../../components/javascript.component.html %>
<script>
  $(document).ready(function () {
    new Tw.MyTFareBillSms($('#myt-fare-bill-sms'));
  });
</script>
<% include ../../components/end.component.html %>
