<%#
* FileName: myt-data.submain.html
* Author: 김인환 (skt.p132150@partner.sk.com)
* Date: 2018.09.17
%>

<% include ../components/start.component.html %>
<body>
<!-- #skip_navigation -->
<div id="skipNav" class="skip_navi">
    <ul>
        <li><a href="#gnb">메뉴 바로가기</a></li>
        <li><a href="#contents">본문 바로가기</a></li>
        <li><a href="#footer">푸터 바로가기</a></li>
    </ul>
</div>
<!--// #skip_navigation -->
<div class="wrap">
    <!-- #header -->
    <%- include('../../../common/views/components/header.component.html', {
    title: '데이터/통화 관리', svcInfo: data.svcInfo }); %>
    <!--// #header -->
    <!-- #contents -->
    <div id="contents" class="container-wrap" data-id="wrapper">
        <h2 class="blind">내용</h2>
        <div class="container" data-id="submain-container">
            <!-- .cont-box -->
            <hr class="cont-sp type1" aria-hidden="true"/>
            <div class="cont-box <% data.svcInfo.svcAttrCd === 'M2'? '' : 'nogaps-top' %>" data-id="remnant-container">
            <%- include('../components/submain/myt-data.submain.remnant.html', data) %>
            </div>
            <!--// .cont-box -->
            <!-- .cont-box -->
            <div class="cont-box nogaps noborder">
                <ul class="link-long-list">
                    <% if(data.refill) { %>
                    <li data-id="refill">
                        <div class="link-long">
                            <button>나의 리필 쿠폰
                                <span class="tx-sub"><%= data.refill.length %>장<span class="ico"></span></span>
                            </button>
                        </div>
                    </li>
                    <% } %>
                    <% if(data.isBenefit) { %>
                    <li data-id="benefit">
                        <div class="link-long">
                            <button>데이터 혜택<span class="ico"></span></button>
                        </div>
                    </li>
                    <li data-id="useful">
                        <div class="link-long">
                            <button>데이터 활용하기<span class="ico"></span></button>
                        </div>
                    </li>
                    <% } %>
                </ul>
            </div>
            <!-- //.cont-box -->

            <!-- .coupon-genre-box -->
            <div class="coupon-genre-box" data-id="prepay-container">
                <!-- .widget -->
                <div class="widget">
                    <div class="widget-box slider1">
                        <div class="coupon-genre-banner-slide">
                            <div class="slider-box">
                                <ul class="slider">
                                    <li>
                                        <div class="cont-box nogaps noborder">
                                            <div class="coupon-genre-banner">
                                                <span class="banner-ti">선불형 쿠폰</span>
                                                <span class="banner-tx">편하고 합리적인<br /><em class="tx-bold"><span class="ff-tg-black">T</span>데이터 쿠폰</em></span>
                                                <span class="banner-tip">요금상품 변경 없이 데이터 추가!<br />데이터가 남으면 다음에 쓰세요!</span>
                                                <span class="ico"></span>
                                            </div>
                                        </div>
                                    </li>
                                    <li>
                                        <div class="cont-box nogaps noborder">
                                            <div class="coupon-genre-banner">
                                                <span class="banner-ti">선불형 쿠폰</span>
                                                <span class="banner-tx">편하고 합리적인<br /><em class="tx-bold"><span class="ff-tg-black">T</span>데이터 쿠폰</em></span>
                                                <span class="banner-tip">요금상품 변경 없이 데이터 추가!<br />데이터가 남으면 다음에 쓰세요!</span>
                                                <span class="ico"></span>
                                            </div>
                                        </div>
                                    </li>
                                    <li>
                                        <div class="cont-box nogaps noborder">
                                            <div class="coupon-genre-banner">
                                                <span class="banner-ti">선불형 쿠폰</span>
                                                <span class="banner-tx">편하고 합리적인<br /><em class="tx-bold"><span class="ff-tg-black">T</span>데이터 쿠폰</em></span>
                                                <span class="banner-tip">요금상품 변경 없이 데이터 추가!<br />데이터가 남으면 다음에 쓰세요!</span>
                                                <span class="ico"></span>
                                            </div>
                                        </div>
                                    </li>
                                </ul>
                            </div>
                        </div>
                    </div>
                </div>
                <!--// .widget -->
            </div>
            <!--// .coupon-genre-box -->
            <!-- 충전/선물 내역 -->
            <% if (data.breakdownList) { %>
                <div class="cont-box nogaps" data-id="bd-container">
                    <p class="list-comp-title">최근 충전/선물 내역<button class="bt">더보기</button></p>
                    <div class="contents-info-list">
                        <ul class="result-history">
                            <% for (var i=0; i < data.breakdownList.length; i++) { %>
                            <%- include('../components/submain/myt-data.submain.breakdown.html', { data: data.breakdownList[i] }); %>
                            <% } %>
                        </ul>
                    </div>
                </div>
            <% } %>
            <!-- 사용량 -->
            <% if (data.pattern) { %>
                <%- include('../components/submain/myt-data.submain.usage-pattern.html', data) %>
            <% } %>

            <% if (data.otherLines.length > 0) { %>
                <hr class="cont-sp type1" aria-hidden="true"/>
                <!-- .cont-box -->
                <div class="cont-box nogaps" data-id="other-lines">
                    <p class="list-comp-title">다른 회선 잔여량 정보</p>
                    <ul class="list-comp-lineinfo">
                        <% var length = (data.otherLines.length > 20 ? 20 : data.otherLines.length); %>
                        <% for (var i=0; i < length; i++) { %>
                        <%- include('../components/submain/myt-data.submain.other-line.html', { data: data.otherLines[i] }); %>
                        <% } %>
                    </ul>
                    <% if (length === 20) { %>
                    <!-- 다른 회선(자녀포함)이 총 20개 이상인 경우 -->
                    <div class="bt-more">
                        <button>더보기</button>
                    </div>
                    <% } %>
                </div>
                <!-- .cont-box -->
            <% } %>

            <div class="cont-box nogaps noborder">
                <ul class="link-long-list nobg">
                    <li>
                        <div class="link-long">
                            <button><span class="ico-thum"></span>요금제<span class="ico"></span></button>
                        </div>
                    </li>
                    <li>
                        <div class="link-long">
                            <button><span class="ico-thum"></span>데이터 부가서비스<span class="ico"></span></button>
                        </div>
                    </li>
                    <li>
                        <div class="link-long">
                            <a href="/myt/data/family"><span class="ico-thum"></span>가족 공유 데이터<span class="ico"></span></a>
                        </div>
                    </li>
                </ul>
            </div>
            <!-- //.cont-box -->
        </div>
    </div>
    <!--// #contents -->
</div>
<% include ../components/javascript.component.html %>
</body>
<script>
    var data = '<%- JSON.stringify(data) %>';
    $(document).ready(function () {
      new Tw.MyTDataSubMain({
        $element: $('[data-id=submain-container]'),
        data: JSON.parse(data)
      });
    });
</script>
<% include ../components/end.component.html %>
