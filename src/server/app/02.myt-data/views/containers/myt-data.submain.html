<%#
* FileName: myt-data.submain.html
* Author: Kim InHwan (skt.p132150@partner.sk.com)
* Date: 2018.09.17
* Update: 2018.11.26
%>

<% include ../components/start.component.html %>
<body>
<!-- #skip_navigation -->
<div id="skipNav" class="skip_navi">
    <ul>
        <li><a href="#contents">본문 바로가기</a></li>
    </ul>
</div>
<!--// #skip_navigation -->
<div class="wrap" data-menuId="<%= data.pageInfo.menuId %>">
    <!-- #header -->
    <%- include('../../../common/views/components/header.component.html', { title: '나의 데이터&middot;통화', svcInfo: data.svcInfo }); %>
    <!--// #header -->
    <!-- #contents -->
    <div id="contents" class="container-wrap" data-id="wrapper">
        <h2 class="blind">내용</h2>
        <div class="container" data-id="submain-container">
            <%- include('../components/submain/myt-data.submain.remnant.html', data) %>

            <% if (data.svcInfo.svcAttrCd === 'M1') { %>
                <% if(data.refill) { %>
                <!-- .cont-box -->
                <hr class="cont-sp type1" aria-hidden="true"/>
                <!-- .cont-box -->
                <div class="cont-box nogaps">
                    <div class="recharge-sum-change">
                        <span>리필쿠폰
                            <button class="btn-tip" id="DC1_tip_01" page-id="DC1"><i class="icon-badge-tip"><span class="blind">DC1_tip_01</span></i></button>
                        </span>
                        <button class="change txt1" data-id="refill"><%= data.refill.length %>장</button>
                    </div>
                </div>
                <!--// .cont-box -->
                <% } %>
            <% } %>
            <!-- //.cont-box -->

            <% if (data.isPrepayment) { %>
            <!-- .coupon-genre-box -->
            <hr class="cont-sp type1" aria-hidden="true" />

            <!-- .cont-box -->
            <div class="cont-box">
                <div class="ti-caption-type01 pb20">
                    <h2 class="tit">선불쿠폰</h2>
                </div>
                <div class="prepayment-coupon" data-id="prepay-container">
                    <!-- .widget -->
                    <div class="widget">
                        <div class="widget-box horizontal">
                            <div class="horizontal-slide">
                                <ul class="horizontal-list add-prod">
                                    <li>
                                        <div class="bg01">
                                            <button data-type="data">
                                                <span class="stit">T 데이터</span>
                                                <span class="txt">국내 데이터 통화<br>선불쿠폰</span>
                                            </button>
                                        </div>
                                    </li>
                                    <li>
                                        <div class="bg02">
                                            <button data-type="coupon">
                                                <span class="stit">T 쿠폰</span>
                                                <span class="txt">음성, 문자, 영상,<br>데이터통화 선불쿠폰</span>
                                            </button>
                                        </div>
                                    </li>
                                    <li>
                                        <div class="bg03">
                                            <button data-type="jeju">
                                                <span class="stit">제주도 프리</span>
                                                <span class="txt">제주도에서<br>
													원하는 기간 동안<br>
													데이터 프리</span>
                                            </button>
                                        </div>
                                    </li>
                                    <li>
                                        <div class="bg04">
                                            <button data-type="oksusu">
                                                <span class="stit">oksusu</span>
                                                <span class="txt">데이터 프리</span>
                                            </button>
                                        </div>
                                    </li>
                                    <li>
                                        <div class="bg05">
                                            <button data-type="sdata">
                                                <span class="stit">T단기데이터</span>
                                                <span class="txt">번호 등록 후<br>바로 사용</span>
                                            </button>
                                        </div>
                                    </li>
                                </ul>
                            </div>
                        </div>
                    </div>
                    <!-- .widget -->
                </div>
            </div>
            <!--// .coupon-genre-box -->
            <% } %>
            <!-- 충전/선물 내역 -->
            <% if (data.breakdownList) { %>

            <hr class="cont-sp type1" aria-hidden="true" />

            <!-- .cont-box -->
            <div class="cont-box pb0" data-id="bd-container">
                <div class="ti-caption-type01 pb20">
                    <h2 class="tit">
                        <% if (data.svcInfo.svcAttrCd === 'M2') { %>
                        충전 내역
                        <% } else { %>
                        최근 충전·선물 내역
                        <% } %>
                    </h2>
                    <% var bkListUrl = '/myt-data/history'; %>
                    <% if (data.svcInfo.svcAttrCd === 'M2') { %>
                    <% bkListUrl = '/myt-data/recharge/prepaid/history'; %>
                    <% } %>
                    <span class="r-btn"><a href="<%= bkListUrl %>" class="more">더보기</a></span>
                </div>
                <div class="list-comp-history type01">
                    <ul class="comp-box">
                        <% for (var i=0; i < data.breakdownList.length; i++) { %>
                        <% if (data.svcInfo.svcAttrCd === 'M2') { %>
                        <%- include('../components/submain/myt-data.submain.breakdown-pps.html', { data: data.breakdownList[i] }); %>
                        <% } else { %>
                        <%- include('../components/submain/myt-data.submain.breakdown.html', { data: data.breakdownList[i] }); %>
                        <% } %>
                        <% } %>
                    </ul>
                </div>
            </div>
            <% } %>
            <!-- 사용량 -->
            <%- include('../components/submain/myt-data.submain.usage-pattern.html', data) %>
            <!-- .cont-box -->
            <% if(data.isBenefit) { %>
            <hr class="cont-sp type1" aria-hidden="true" />
            <div class="cont-box nogaps">
                <ul class="btn-link-list line-type01">
                    <li class="last-line" data-id="pester"><button>데이터 조르기</button></li>
                    <li class="last-line" data-id="benefit"><button>데이터 혜택</button></li>
                </ul>
            </div>
            <% } %>

            <% if (data.svcInfo.svcAttrCd === 'M1') { %>
            <% if (data.banner && data.banner.length > 0) { %>
            <hr class="cont-sp type1" aria-hidden="true" />
            <div class="cont-box nogaps noborder">
                <div class="main-slide-banner slide-pagingtype pg-rtop">
                    <!-- .widget -->
                    <div class="widget">
                        <div class="widget-box slider1">
                            <div class="slider-box">
                                <ul class="slider">
                                    <% for (var i=0; i < data.banner.length; i++) { %>
                                    <li>
                                        <a href="<%= data.banner[i].imgLinkUrl %>">
                                            <img src="<%= CDN %><%= data.banner[i].bnnrFilePathNm %>" alt="<%= data.banner[i].bnnrImgAltCtt %>">
                                        </a>
                                    </li>
                                    <% } %>
                                </ul>
                            </div>
                        </div>
                    </div>
                    <!--// .widget -->
                </div>
            </div>
            <!-- //.cont-box -->
            <% delete data.banner; %>
            <% } %>
            <% } %>

            <% if (data.otherLines.length > 0) { %>
            <% var length = (data.otherLines.length > 20 ? 20 : data.otherLines.length); %>
                <hr class="cont-sp type1" aria-hidden="true" data-id="empty-other-lines"/>
                <!-- .cont-box -->
                <div class="cont-box noborder nogaps-btm b-line1" data-id="other-lines">
                    <div class="ti-caption-type01 pb0">
                        <h2 class="tit">다른 회선의 실시간 잔여량</h2>
                        <button class="btn-tip" id="DC1_tip_02" page-id="DC1"><i class="icon-badge-tip"><span class="blind">DC1_tip_02</span></i></button>
                    </div>

                    <div class="my-line-info-wrap">
                        <ul class="my-line-info">
                        </ul>
                    </div>
                    <% if (length === 20) { %>
                    <!-- 다른 회선(자녀포함)이 총 20개 이상인 경우 -->
                    <div class="btn-more">
                        <button>더 보기</button>
                    </div>
                    <% } %>
                </div>
                <!-- .cont-box -->
            <% } %>

            <div class="cont-box noborder bgnone">
                <h3 class="pg-chk-tit">다른 페이지를 찾고 계신가요?</h3>
                <ul class="pg-link-list" data-id="other-pages">
                    <li>
                        <button data-href="/myt-join/myplan">
                            <i class="icon-my-40"><span class="blind">my</span></i>나의 가입 정보 &gt; 나의 요금제
                        </button>
                    </li>
                    <li>
                        <button data-href="/myt-join/additions">
                            <i class="icon-my-40"><span class="blind">my</span></i>나의 가입 정보 &gt; 나의 부가서비스
                        </button>
                    </li>
                    <li>
                        <button data-href="/myt-fare/billguide/guide">
                            <i class="icon-charge-40"><span class="blind">charge</span></i>나의 요금 &gt; 요금안내서
                        </button>
                    </li>
                    <li>
                        <button data-href="/myt-fare/bill/hotbill">
                            <i class="icon-charge-40"><span class="blind">charge</span></i>나의 요금 &gt; 실시간 이용요금
                        </button>
                    </li>
                    <li>
                        <button data-href="/product/roaming/my-use">
                            <i class="icon-roaming-40"><span class="blind">my</span></i>T로밍 &gt; 나의 로밍
                        </button>
                    </li>
                </ul>
            </div>
            <!-- //.cont-box -->
        </div>
    </div>
    <!--// #contents -->
    <%- include('../../../common/views/components/footer.component.html', { svcInfo: data.svcInfo, pageInfo: data.pageInfo }); %>
</div>
<% include ../components/javascript.component.html %>
</body>
<script>
    var data = '<%- JSON.stringify(data) %>';
    $(document).ready(function () {
      new Tw.MyTDataSubMain({
        $element: $('[data-id=submain-container]'),
        data: JSON.parse(data)
      });
    });
</script>
<% include ../components/end.component.html %>
