<%#
* FileName: product.roaming.my-use-fee.component.html
* Author: Juho Kim (jhkim@pineone.com)
* Date: 2018.11.20
%>

<% if (roamingFeePlan.roamingProdList.length !== 0) { %>
<!-- #요금제 있을 때 -->
<div class="cont-box nogaps-top">
    <div class="status-list-box">
        <ul class="list-comp-lineinfo type5">
            <% var prodList = roamingFeePlan.roamingProdList %>
            <% for (var keyProd in prodList) { %>
            <li>
                <% if (prodList[keyProd].prodLinkYn === 'Y' && prodList[keyProd].linkProdId) { %>
                <a class="btn-type" href="/product/callplan?prod_id=<%= prodList[keyProd].linkProdId %>">
                <% } else { %>
                <a class="btn-type not-link" href="#" onclick="return false;">
                <% } %>
                        <span class="lineinfo-user">
                            <span class="info-title"><%= prodList[keyProd].prodNm %></span>
                            <% if (prodList[keyProd].remainedDays) { %>
                            <span class="info-txt">이용중인 T로밍 잔여기간</span>
                            <span class="info-date"><span><%= prodList[keyProd].remainedDays %>일</span> 남음</span>
                            <% } %>
                            <span class="info-sub">가입일 <%= prodList[keyProd].scrbDt %></span>
                        </span>
                    <span class="lineinfo-data">
                        <span class="info-title">
                            <% if (/^[0-9,]+$/.test(prodList[keyProd].basFeeTxt)) { %>
                            <span class="ff-tg-black"><%= prodList[keyProd].basFeeTxt %></span><span class="unit ff-tg-medium">원</span>
                            <% } else { %>
                            <%= prodList[keyProd].basFeeTxt || '무료' %>
                            <% } %>
                        </span>
                    </span>
                </a>
                <div class="btn-area">
                    <% var btnList = prodList[keyProd].btnList %>
                    <% for (var keyBtn in btnList) { %>
                    <button class="bt-link-tx underline fe-myuse-link-btn" data-url="<%= btnList[keyBtn].btnLinkUrl %>" data-prod_id="<%= prodList[keyProd].prodId %>"><%= btnList[keyBtn].btnNm %></button>
                    <% } %>
                </div>
                <% if (troamingData && troamingData.rgstDtm && prodList[keyProd].remainedDays) { %>
                <div class="use-info-box">
                    <span class="info-title">사용량 정보</span>
                    <ul class="info-list">
                        <li>
                            <dl>
                                <dt>기본 제공량</dt>
                                <dd><strong>
                                    <% if (/^[0-9,.]+$/.test(troamingData.convTotal.data)) { %>
                                    <%= troamingData.convTotal.data %><%= troamingData.convTotal.unit %>
                                    <% } else { %>
                                    <%= troamingData.convTotal.data %>
                                    <% } %>
                                </strong> 제공</dd>
                            </dl>
                        </li>
                        <li>
                            <dl>
                                <dt>사용량</dt>
                                <dd><strong>
                                    <% if (/^[0-9,.]+$/.test(troamingData.convUsed.data)) { %>
                                    <%= troamingData.convUsed.data %><%= troamingData.convUsed.unit %>
                                    <% } else { %>
                                    <%= troamingData.convUsed.data %>
                                    <% } %>
                                </strong> 사용</dd>
                            </dl>
                        </li>
                        <li>
                            <dl>
                                <dt>잔여량</dt>
                                <dd><strong>
                                    <% if (/^[0-9,.]+$/.test(troamingData.convRemained.data)) { %>
                                    <%= troamingData.convRemained.data %><%= troamingData.convRemained.unit %>
                                    <% } else { %>
                                    <%= troamingData.convRemained.data %>
                                    <% } %>
                                </strong> 남음</dd>
                            </dl>
                        </li>
                    </ul>
                </div>
                <% } %> <!-- if -->
            </li>
            <% } %> <!-- for -->
        </ul>

        <% if (troamingLikeHome.length > 0 && troamingLikeHome.remainedDays) { %>
        <div class="use-info-box">
            <span class="info-title">사용량 정보</span>
            <% for (var data in troamingLikeHome) { %>
            <% if (troamingLikeHome[data].rgstDtm) { %>
            <ul class="info-list">
                <li>
                    <dl>
                        <dt>기본제공혜택</dt>
                        <dd><strong><%= troamingLikeHome[data].prodNm %></strong></dd>
                    </dl>
                </li>
                <li>
                    <dl>
                        <dt>제공량</dt>
                        <dd><strong>
                        <% if (/^[0-9,.]+$/.test(troamingLikeHome[data].convTotal.data)) { %>
                        <%= troamingLikeHome[data].convTotal.data %><%= troamingLikeHome[data].convTotal.unit %>
                        <% } else { %>
                        <%= troamingLikeHome[data].convTotal.data %>
                        <% } %>
                        </strong> 제공</dd>
                    </dl>
                </li>
                <li>
                    <dl>
                        <dt>사용량</dt>
                        <dd><strong>
                        <% if (/^[0-9,.]+$/.test(troamingLikeHome[data].convUsed.data)) { %>
                        <%= troamingLikeHome[data].convUsed.data %><%= troamingLikeHome[data].convUsed.unit %>
                        <% } else { %>
                        <%= troamingLikeHome[data].convUsed.data %>
                        <% } %>
                        </strong> 사용</dd>
                    </dl>
                </li>
            </ul>
            <% } %> <!-- if -->
            <% } %> <!-- for -->
        </div>
        <div class="rm-tip-list">
            <ul>
                <li>
                    데이터 한도형 상품 가입 고객의 경우 기본 데이터 소진 후 속도제어(400kbps 이하) 상태에서 지속 사용 가능합니다.
                    <p>대표 요금제 : 0플랜(스몰, 미디엄), T플랜(스몰, 미디엄), band 데이터(세이브, 1.2G, 2.2G, 3.5G, 6.5G)</p>
                </li>
                <li>
                    데이터 무제한 상품 가입 고객의 경우 기본 데이터 소진 후 한국시간 기준 00시~24시 기준으로 매일 1GB 추가 제공되며, 추가제공된 1GB 소진 후 속도제어(400kbps 이하) 상태로 지속 사용가능합니다.
                    <p>대표 요금제 : 0플랜(라지), T플랜(라지, 패밀리), band 데이터(퍼펙트, 퍼펙트S), T 시그니처(Classic, Master) </p>
                </li>
                <li>
                    완전 무제한 요금제 상품 가입 고객의 경우 용량 및 속도 제한 없이 무제한 이용 가능합니다.
                    <p>대표 요금제 : T플랜 Data인피니티</p>
                </li>
                <li>
                    <p>상세 국내 요금제 유형에 대한 문의는 고객센터(국내: 02-6343-9000 / 해외: +82-2-6343-9000)를 통해서 확인해주세요.</p>
                </li>
                <li>
                    <p>실제 데이터 사용량과 다소 차이가 있을 수 있으니 참고용으로 활용하시기 바랍니다.</p>
                </li>
            </ul>
        </div>
        <% } %> <!-- if -->

        <% if (roamingFeePlan.roamingProdList.length !== 0 && wirelessAdd.isAdditionUse !== 'Y') { %>
        <div class="arrival-noti">
            <a href="/product/callplan?prod_id=NA00003200" style="text-decoration:none; color:#000000;">
            <span class="tit">T로밍 도착알리미를 신청해 보세요.</span>
            <span class="txt">해외 도착 시 지인에게<br>도착알림 문자가 발송됩니다</span>
            </a>
        </div>
        <% } %>

        <ul class="bt-slice">
            <li class="bt-blue1">
                <a href="/product/roaming/fee">로밍 요금제 보러 가기</a>
            </li>
        </ul>
    </div>
</div>
<!--// #요금제 있을 때 -->
<% } else { %>
<!-- #요금제 없을 때 -->
<div class="cont-box nogaps-top">
    <div class="contents-empty">
        <span class="ico type1"></span>
        <p class="desc">현재 사용 중인<br />로밍 요금제가 없습니다.</p>
    </div>

    <ul class="bt-slice">
        <li class="bt-blue1">
            <a href="/product/roaming/fee">로밍 요금제 보러가기</a>
        </li>
    </ul>
</div>
<!--// #요금제 없을 때 -->
<% } %>