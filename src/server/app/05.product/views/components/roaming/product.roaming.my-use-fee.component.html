<%#
* @file 나의 T로밍 이용현황 (요금제 Tab)
* @author Juho Kim
* @since 2018.11.20
* @id RM_02_01_XX / RM_02_03_XX
%>

<% if (roamingFeePlan.roamingProdList.length !== 0) { %>
<!-- #요금제 있을 때 -->
<div class="cont-box nogaps-top">
    <div class="status-list-box">
        <ul class="list-comp-lineinfo type5">
            <% var prodList = roamingFeePlan.roamingProdList %>
            <% for (var keyProd in prodList) { %>
            <li>
                <% if (prodList[keyProd].prodLinkYn === 'Y' && prodList[keyProd].linkProdId) { %>
                <a class="btn-type" href="/product/callplan?prod_id=<%= prodList[keyProd].linkProdId %>">
                <% } else { %>
                <a class="btn-type not-link" href="#" onclick="return false;">
                <% } %>
                        <span class="lineinfo-user">
                            <span class="info-title"><%= prodList[keyProd].prodNm %></span>
                            <% if (prodList[keyProd].remainedDays) { %>
                            <span class="info-txt">이용중인 T로밍 잔여기간</span>
                            <% var baroBoxGift = ["NA00006390", "NA00006388", "NA00006828", "NA00006389"] %>
                                <% if (!(baroBoxGift.includes(prodList[keyProd].prodId))) { %>
                                <span class="info-date"><span><%= prodList[keyProd].remainedDays %>일</span> 남음</span>
                                <% } else { %>
                                <span class="info-date">baro Box 이용 기간</span><!-- 200108 수정 [OP002-6243] -->
                                <% } %>
                            <% } %>
                            <span class="info-sub">가입일 <%= prodList[keyProd].scrbDt %></span>
                        </span>
                    <span class="lineinfo-data">
                        <span class="info-title">
                            <% if (/^[0-9,]+$/.test(prodList[keyProd].basFeeTxt)) { %>
                            <span class="ff-tg-black"><%= prodList[keyProd].basFeeTxt %></span><span class="unit ff-tg-medium">원</span>
                            <% } else { %>
                            <%= prodList[keyProd].basFeeTxt || '무료' %>
                            <% } %>
                        </span>
                    </span>
                </a>
                <div class="btn-area">
                    <% var btnList = prodList[keyProd].btnList %>
                    <% for (var keyBtn in btnList) { %>
                    <button class="bt-link-tx underline fe-myuse-link-btn" data-url="<%= btnList[keyBtn].btnLinkUrl %>" data-prod_id="<%= prodList[keyProd].prodId %>"><%= btnList[keyBtn].btnNm %></button>
                    <% } %>
                </div>
                <% if ( prodList[keyProd].remainedDays && troamingLikeHome.length === 0 ) { %>
                <div class="use-info-box">
                    <span class="info-title">사용량 정보</span>
                    <ul class="info-list">
                        <li>
                            <dl>
                                <dt>기본 제공량</dt>
                                <dd><strong>
                                    <% if (/^[0-9,.]+$/.test(troamingData.convTotal.data)) { %>
                                    <%= troamingData.convTotal.data %><%= troamingData.convTotal.unit %>
                                    <% } else { %>
                                    <%= troamingData.convTotal.data %>
                                    <% } %>
                                </strong> 제공</dd>
                            </dl>
                        </li>
                        <li>
                            <dl>
                                <dt>사용량</dt>
                                <dd><strong>
                                    <% if (/^[0-9,.]+$/.test(troamingData.convUsed.data)) { %>
                                    <%= troamingData.convUsed.data %><%= troamingData.convUsed.unit %>
                                    <% } else { %>
                                    <%= troamingData.convUsed.data %>
                                    <% } %>
                                </strong> 사용</dd>
                            </dl>
                        </li>
                        <li>
                            <dl>
                                <dt>잔여량</dt>
                                <dd><strong>
                                    <% if (/^[0-9,.]+$/.test(troamingData.convRemained.data)) { %>
                                    <%= troamingData.convRemained.data %><%= troamingData.convRemained.unit %>
                                    <% } else { %>
                                    <%= troamingData.convRemained.data %>
                                    <% } %>
                                </strong> 남음</dd>
                            </dl>
                        </li>
                    </ul>
                </div>
                <% } %> <!-- if -->

                <% if (prodList[keyProd].remainedDays && troamingLikeHome.length > 0) { %>
                <div class="use-info-box">
                    <span class="info-title">사용량 정보</span>
                    <% for (var data in troamingLikeHome) { %>
                    <ul class="info-list">
                        <li>
                            <dl>
                                <dt>기본제공혜택</dt>
                                <dd><strong><%= troamingLikeHome[data].prodNm %></strong></dd>
                            </dl>
                        </li>
                        <li>
                            <dl>
                                <dt>제공량</dt>
                                <dd><strong>
                                    <% if (/^[0-9,.]+$/.test(troamingLikeHome[data].convTotal.data)) { %>
                                    <%= troamingLikeHome[data].convTotal.data %><%= troamingLikeHome[data].convTotal.unit %>
                                    <% } else { %>
                                    <%= troamingLikeHome[data].convTotal.data %>
                                    <% } %>
                                </strong> 제공</dd>
                            </dl>
                        </li>
                        <li>
                            <dl>
                                <dt>사용량</dt>
                                <dd><strong>
                                    <% if (/^[0-9,.]+$/.test(troamingLikeHome[data].convUsed.data)) { %>
                                    <%= troamingLikeHome[data].convUsed.data %><%= troamingLikeHome[data].convUsed.unit %>
                                    <% } else { %>
                                    <%= troamingLikeHome[data].convUsed.data %>
                                    <% } %>
                                </strong> 사용</dd>
                            </dl>
                        </li>
                    </ul>
                    <% } %> <!-- for -->
                </div>
                <div class="use-info-rm-more-btn">
                    <button role="button" aria-pressed="false" class="">더 보기</button>
                </div>

                <div class="guamsaipan-noti">
                    <ul>
                        <li>데이터 완전 무제한 요금제 이용 : 데이터 사용량·속도 제한 없이 완전 무제한으로 사용하실 수 있습니다.<br><span>대표 요금제 : 5GX프라임, 5GX플래티넘, T플랜 Data인피니티</span></li>
                        <li>데이터 무제한형 요금제 이용 : 국내 요금제의 기본제공 데이터를 다 쓰면 매일 추가 데이터 1GB 제공, 이후 최대 400kbps 속도로 계속 사용하실 수 있습니다.<br><span>대표 요금제 : 5GX스탠다드, 0플랜(라지), T플랜(라지/패밀리), band 데이터(퍼펙트/퍼펙트S), T시그니처(Classic/Master)</span></li>
                        <li>데이터 한도형 요금제 이용 : 기본제공 데이터를 다 쓰면 최대 400kbps 속도로 계속 이용하실 수 있습니다.</li>
                        <!-- 200113 추가 [OP002-6250] -->
                        <li>선물 받은 데이터, 리필 데이터, T가족모아 공유 데이터도 사용할 수 있습니다.</li>
                        <li>데이터 쿠폰, 국내 옵션요금제의 데이터는 이용하실 수 없습니다.</li>
                        <li>함께쓰기 요금제는 모회선 기본제공량을 공유하여 이용하실 수 있으며, 기본제공량을 다 쓴 후에는 최대 400kbps 속도로 계속 이용하실 수 있습니다. 단, 모회선 요금제가 3G 데이터 무제한 요금제인 경우 모회선 데이터를 이용하실 수 없습니다.</li>
                        <!-- // 200113 추가 [OP002-6250] -->
                        <li><span>상세 국내 요금제 유형에 대한 문의는 고객센터 (국내: 02-6343-9000/해외: +82-2-6343-9000)를 통해서 확인해주세요.</span></li>
                        <li><span>실제 데이터 사용량과 다소 차이가 있을 수 있으니 참고용으로 활용하시기 바랍니다.</span></li>
                    </ul>
                </div>
                <% } %> <!-- if -->
            </li>
            <% } %> <!-- for -->
        </ul>

        <% if (roamingFeePlan.roamingProdList.length !== 0 && wirelessAdd.isAdditionUse !== 'Y') { %>
        <div class="arrival-noti">
            <a href="/product/callplan?prod_id=NA00003200" style="text-decoration:none; color:#000000;">
            <span class="tit">T로밍 도착알리미를 신청해 보세요.</span>
            <span class="txt">해외 도착 시 지인에게<br>도착알림 문자가 발송됩니다</span>
            </a>
        </div>
        <% } %>

        <ul class="bt-slice">
            <li class="bt-blue1">
                <a href="/product/roaming/fee">로밍 요금제 보러 가기</a>
            </li>
        </ul>
    </div>
</div>
<!--// #요금제 있을 때 -->
<% } else { %>
<!-- #요금제 없을 때 -->
<div class="cont-box nogaps-top">
    <div class="contents-empty">
        <span class="ico type1"></span>
        <p class="desc">현재 사용 중인<br />로밍 요금제가 없습니다.</p>
    </div>

    <ul class="bt-slice">
        <li class="bt-blue1">
            <a href="/product/roaming/fee">로밍 요금제 보러가기</a>
        </li>
    </ul>
</div>
<!--// #요금제 없을 때 -->
<% } %>
