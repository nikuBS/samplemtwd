<%#
* @file product.roaming.setting.roaming-combine.html
* @author Hyunkuk Lee (max5500@pineone.com)
* @since 2018.12.05
%>


<%- include('../../../components/start.component.html', { pageInfo: locals.pageInfo }); %>
<body data-gr-c-s-loaded="true">
<!-- Grand open 접근성 수정 -->
<!-- #skip_navigation -->
<!--<div id="skipNav" class="skip_navi">
   <ul>
        <li><a href="#contents" class="fe-replace-history">본문 바로가기</a></li>
    </ul>
</div>-->
<!--// #skip_navigation -->
<!--// Grand open 접근성 수정 -->
<div class="wrap step" data-menuId ="<%= pageInfo.menuId?pageInfo.menuId:'M000490' %>">
    <!-- .popup hbs -->
    <div class="popup-page tw-popup nobg fixed-bottom fe-main-content txt-screed"><!-- 하단에 fixed 버튼으로 여백이 필요할때 .fixed-bottom 기본60여백 / 높이 30단위 class 지원 .h30, .h60, .h90 ... -->
        <!-- #header -->
        <%- include('../components/header.component.html', { title: '설정', type: 'popup', svcInfo: svcInfo, pageInfo: pageInfo }); %>
        <!--// #header -->
        <!-- #contents -->
        <div id="contents" class="container-wrap">
            <h2 class="blind">내용</h2>
            <div class="container">

                <div class="ti-caption-gray">
                    <h4 class="tit">회선 설정
                        <!--<button type="button" class="tip-view" title="지정번호 설정 정보보기" aria-haspopup="true">TIP</button>-->
                    </h4>
                    <p class="num"><%= phoneNum %></p>
                </div>

                <!-- .cont-box -->
                <div class="cont-box">
                    <div class="input-number-wrap">
                        <h3 class="tit">데이터 함께쓰기를 설정할 회선번호</h3>
                        <div class="form-box">
                                <span class="inputbox bt-add inp-btn"><!-- 입력 필드 오류 시 .error 추가 -->
                                    <span class="input">
                                        <input type="tel" id="input_phone" placeholder="숫자만 입력" title="지정번호 설정할 회선번호를 입력하세요" aria-labelledby="aria-citation-phone" aria-describedby="aria-phone-tx1" >
                                        <button class="cancel" style="display: none;"><span class="blind">삭제</span></button>
                                    </span>
                                    <span class="bt-box">
                                        <button type="button" id="phone_book">주소록</button>
                                    </span>
                                </span>
                            <span id="aria-phone-tx1" class="input-comment">데이터 함께쓰기를 할 휴대폰번호를 입력해 주세요.</span>
                        </div>
                    </div>
                    <ul class="bt-slice pt26">
                        <li class="bt-blue1">
                            <button disabled="disabled" id="add_list">추가하기</button>
                        </li>
                    </ul>
                </div>
                <!--// .cont-box -->
                <script type="text/x-handlebars-template" id="combine_list_template">
                    <li class="list-box type-main"><!-- 190117 타이틀이 전화번호인 경우 -->
                        <p class="list-text">
                            <span class="mtext">{{listData.phoneNum}}</span>
                        </p>
                        <div class="list-btn">
                            <div class="bt-alone"><button class="bt-line-gray1" id="list{{listData.idx}}" data-idx="{{listData.idx}}">해지</button></div>
                        </div>
                    </li>
                </script>
                <% if(prodBffInfo.togetherMemList.length>0){ %>
                <hr class="cont-sp type1 list_contents" aria-hidden="true">
                <div class="cont-box nogaps list_contents">
                    <div class="input-number-wrap">
                        <h3 class="tit type1">함께쓰기 신청하신 회선</h3>
                        <div class="list-comp-thumnail">
                            <ul class="comp-box" id="combine_list">
                                <% for(var i=0;i<prodBffInfo.togetherMemList.length;i++){ %>
                                <li class="list-box type-main"><!-- 190117 타이틀이 전화번호인 경우 -->
                                    <p class="list-text">
                                        <span class="mtext">
                                            <%= prodBffInfo.togetherMemList[i].svcNum %></span>
                                    </p>
                                    <div class="list-btn">
                                        <div class="bt-alone">
                                            <% if (svcInfo && locals.pageInfo && pageInfo.auth && pageInfo.auth.cert && pageInfo.auth.cert.maskAuthYn === 'Y' && !pageInfo.masking) { %>
                                            <button class="bt-line-gray1 fe-bt-masking-alert" type="button" data-menuid="<%= pageInfo.menuId %>" data-menuurl="<%= pageInfo.menuUrl %>">해지</button>
                                            <% } else { %>
                                            <button class="bt-line-gray1 fe-remove" id="list<%= i %>" data-idx="<%= i %>">해지</button>
                                            <% } %>
                                        </div>
                                    </div>
                                </li>
                                <% } %>
                            </ul>
                        </div>
                    </div>
                </div>
                <% } %>
                <!--// .cont-box -->

                <hr class="cont-sp type1" aria-hidden="true">

                <!-- .cont-box -->

                <div class="cont-box nogaps-btm">
                    <h3 class="tx-bold">꼭 확인해 주세요</h3>
                    <ul class="noti-list02">
                        <li>
                            <button type="button" class="tip-view-btn" id="RM_11_01_02_07_tip_01" aria-haspopup="true">
                                서비스 이용안내<span class="tip-view">TIP</span>
                            </button>
                        </li>
                    </ul>
                </div>

                <!--// .cont-box -->
            </div>
        </div>
        <!--// #contents -->
        <!-- .popup-closeBtn -->
        <button class="prev-step tw-popup-closeBtn">취소</button>
        <!--// .popup-closeBtn -->
    </div>
    <!-- // .popup hbs -->
</div>

</body>
<% include ../../../components/javascript.component.html %>
<script>
  $(document).ready(function () {
    new Tw.ProductRoamingSettingRoamingCombine($('.wrap'), '<%- JSON.stringify(prodRedisInfo) %>', <%- JSON.stringify(prodBffInfo) %>,'<%- prodId %>')
  });

</script>
<% include ../../../components/end.component.html %>
