<%#
* FileName: product.html
* Author: Jiyoung Jo (jiyoungjo@sk.com)
* Date: 2018.09.06
* id: MP
%>

<% include ../components/start.component.html %>

<body>
    <!-- #skip_navigation -->
    <div id="skipNav" class="skip_navi">
        <ul>
            <li><a href="#gnb">메뉴 바로가기</a></li>
            <li><a href="#contents">본문 바로가기</a></li>
            <li><a href="#footer">푸터 바로가기</a></li>
        </ul>
    </div>
    <!--// #skip_navigation -->
    <div class="wrap">
        <!-- #header -->
        <%- include('../../../common/views/components/header.component.html', { title: '모바일 요금제', svcInfo, option: { line: true } }); %>
        <!--// #header -->
        <!-- #contents -->
        <div id="contents" class="container-wrap">
            <h2 class="blind">내용</h2>
            <div class="container">
                <!-- 사용중인 상품 -->
                <% if (svcInfo) { %>
                <div class="cont-box gaps-style01">
                    <div class="submain-myfeeproducts-wrap">
                        <a href="/myt/join/product/fee-plan" class="submain-myfeeproducts">
                            <h3 class="title">사용중인 상품</h3>
                            <p class="text">
                                <%= svcInfo.prodNm %>
                            </p>
                        </a>
                    </div>
                </div>
                <% } %>
                <!--//사용중인 상품 -->

                <!-- 스와이프 -->
                <div class="cont-box nogaps noborder">
                    <div class="main-slide-banner dot-btm slide-pagingtype">
                        <!-- .widget -->
                        <div class="widget">
                            <div class="widget-box slider1">
                                <div class="slider-box">
                                    <ul class="slider">
                                        <% for (let i = 0; i < productData.banners.length; i++) { %>
                                        <% const banner = productData.banners[i]; %>
                                        <li>
                                            <% if (banner.bnnrTypCd === 'H') { %>
                                            <button>
                                                <%- banner.bnnrHtmlCtt %>
                                            </button>
                                            <% } else if (banner.bnnrTypCd === 'I') { %>
                                            <a href="<%= banner.twdViewUrl %>">
                                                <img src="<%= banner.imgId %>" alt="<%= banner.imgAltVal %>">
                                            </a>
                                            <% } %>
                                        </li>
                                        <% } %>
                                    </ul>
                                </div>
                            </div>
                        </div>
                        <!--// .widget -->
                    </div>
                </div>
                <!-- //스와이프 -->

                <!-- 내게 맞는 요금제 찾기 -->
                <div class="submain-findyourplan-wrap">
                    <!-- <a href="#" class="submain-findyourplan">
                      <h3 class="title">내게 맞는 요금제 찾기</h3>
                      <p class="text">나의 사용패턴, 할인정보에 딱 맞는 요금제를 추천해드려요.</p>
                  </a> -->
                    <button type="button" class="submain-findyourplan">
                        <!-- TODO: 내게 맞는 요금제 찾기 페이지 이동 필요 -->
                        <h3 class="title">내게 맞는 요금제 찾기</h3>
                        <p class="text">나의 사용패턴, 할인정보에 딱 맞는 요금제를<br />추천해드려요.</p>
                    </button>
                </div>
                <!--//내게 맞는 요금제 찾기-->

                <hr class="cont-sp type1" aria-hidden="true" />

                <!-- 대표 요금제 보기 -->
                <div class="cont-box nogaps-btm widget">
                    <div class="plan-title">
                        <h3 class="tit">
                            <%= productData.groups.expsTitNm %>
                        </h3>
                        <div class="bt-alone mt4">
                            <a href="/product/plans" class="bt-bg-blue1">전체 요금제</a>
                        </div>
                    </div>
                    <div class="widget-box toggle01">
                        <ul class="representcharge-list">
                            <% const GROUP_MAX_COUNT = 7;%>
                            <% for (let i = 0; i < Math.min(productData.groups.grpProdList.length, GROUP_MAX_COUNT); i++) { %>
                            <% const group = productData.groups.grpProdList[i]; %>
                            <li>
                                <button role="button" aria-pressed="false" class="representcharge-info type01">
                                    <h4 class="title">
                                        <%= group.prodGrpNm %><img src='<%= group.prodGrpFlagImgUrl %>'></h4>
                                    <p class="text">
                                        <%= group.prodGrpDesc %>
                                    </p>
                                </button>
                                <ul class="representcharge-product">
                                    <% for (let j = 0; j < group.prodList.length; j++) { %>
                                    <% const product = group.prodList[j]; %>
                                    <li>
                                        <a class="product-infolink" href="/product/detail/<%= product.prodId %>">
                                            <div class="products-titleinfo">
                                                <h5 class="title">
                                                    <%= product.prodNm %>
                                                </h5>
                                                <% if (/^[0-9,]+$/.test(product.basFeeInfo)) { %>
                                                    <p class="info">월<span class="money"><%= product.basFeeInfo %></span>원</p>
                                                <% } else { %>
                                                    <p class="info"><span class="money"><%= product.basFeeInfo %></span></p>
                                                <% } %>
                                            </div>
                                            <dl class="products-additionalinfo">
                                                <dt>데이터</dt>
                                                <dd class="point">
                                                    <%= product.basOfrDataQtyCtt %>
                                                </dd>
                                                <dt>음성</dt>
                                                <dd>
                                                    <%= product.basOfrVcallTmsCtt %>
                                                </dd>
                                                <dt>문자</dt>
                                                <dd>
                                                    <%= product.basOfrCharCntCtt %>
                                                </dd>
                                            </dl>
                                        </a>
                                    </li>
                                    <% } %>
                                </ul>
                            </li>
                            <% } %>
                        </ul>
                    </div>
                </div>
                <!-- //대표 요금제 보기 -->

                <hr class="cont-sp type1" aria-hidden="true" />

                <!-- 내 요금제와 비슷한 요금제 -->
                <% if (svcInfo && productData.myFilters.list) { %>
                <div class="cont-box">
                    <% const filters = productData.myFilters.list %>
                    <div class="similarmyplan-wrap">
                            <h3 class="title">내 요금제와 비슷한 요금제</h3>
                            <div class="more-wrap">
                                <a class="more" href="/product/plans<%= filters.length > 0 ? '?filters=' + filters.map(filter => filter.prodFltId).join(',') : '' %>"><span class="str">
                                        <%= productData.myFilters.prodCnt %></span>개</a>
                            </div>
                    </div>
                    <ul class="similarmyplan-list">
                        <% for (let i = 0; i < filters.length; i++) { %>
                        <li><span class="link">#<%= filters[i].prodFltNm %></span></li>
                        <% } %>
                    </ul>
                </div>
                <hr class="cont-sp type1" aria-hidden="true" />
                <% } %>
                <!--//내 요금제와 비슷한 요금제 -->


                <!-- 이런 요금제는 어떠세요? -->
                <% if (productData.recommendedPlans && productData.recommendedPlans.prodList.length > 0) { %>
                <div class="cont-box">
                    <div class="recommendedrate-wrap">
                        <h3 class="title">
                            <%= productData.recommendedPlans.expsTitNm %>
                        </h3>
                    </div>
                    <ul class="recommendedrate-list">
                        <% const PLANS_MAX_COUNT = 5; %>
                        <% const recommendedPlans = productData.recommendedPlans.prodList; %>
                        <% for (let i = 0; i < Math.min(recommendedPlans.length, PLANS_MAX_COUNT); i++) { %>
                        <% const plan = recommendedPlans[i]; %>
                        <li class="type01">
                            <a class="product-infolink" href="/product/detail/<%= plan.prodId %>">
                                <div class="products-titleinfo">
                                    <h5 class="title">
                                        <%= plan.prodNm %>
                                    </h5>
                                    <% if (/^[0-9,]+$/.test(plan.basFeeInfo)) { %>
                                        <p class="info">월<span class="money"><%= plan.basFeeInfo %></span>원</p>
                                    <% } else { %>
                                        <p class="info"><span class="money"><%= plan.basFeeInfo %></span></p>
                                    <% } %>
                                </div>
                                <div class="taglist-wrap">
                                    <% for (let j = 0; j < plan.prodFltList.length; j++) { %>
                                    <span class="tag-text">#
                                        <%= plan.prodFltList[j].prodFltNm %></span>
                                    <% } %>
                                </div>
                                <dl class="products-additionalinfo">
                                    <dt>데이터</dt>
                                    <dd><span class="point">
                                            <%= plan.basOfrDataQtyCtt %></span></dd>
                                    <dt>음성</dt>
                                    <dd>
                                        <%= plan.basOfrVcallTmsCtt %>
                                    </dd>
                                    <dt>문자</dt>
                                    <dd>
                                        <%= plan.basOfrCharCntCtt %>
                                    </dd>
                                </dl>
                            </a>
                        </li>
                        <% } %>
                    </ul>
                </div>
                <hr class="cont-sp type1" aria-hidden="true" />
                <% } %>
                <!-- //이런 요금제는 어떠세요? -->


                <!-- 추천태그 -->
                <div class="cont-box nogaps-btm widget">
                    <h3 class="suggest-tag-title">#
                        <%= productData.recommendedTags.expsTitNm %>
                    </h3>
                    <div class="widget-box toggle02">
                        <div class="suggest-tag-list">
                            <ul>
                            <% const recommendedTags = productData.recommendedTags.tagList %>
                            <% for (let i = 0; i < recommendedTags.length; i++) { %>
                            <!-- <li><a href="#" class="link">#여행 갈 때 좋은 요금제</a></li> -->
                            <li><a class="link" href="/product/plans?tag=<%= recommendedTags[i].tagId %>">#
                                    <%= recommendedTags[i].tagNm %></a></li>
                            <% } %>
                            </ul>
                        </div>
                        <div class="suggest-tag-morewrap">
                            <button role="button" aria-pressed="false" class="suggest-tag-more">
                                <span class="more">더보기</span>
                            </button>
                        </div>
                    </div>
                </div>
                <!--//추천태그 -->

                <!-- 다른상품 더보기 -->
                <div class="cont-box nogaps-ver">
                    <h3 class="moreitems-title">다른상품 더보기</h3>
                    <div class="moreitems-wrap">
                        <ul class="moreitems-list">
                            <!-- TODO: 링크 연결 필요 -->
                            <li>
                                <a class="link link-type01" href="/product/addition">모바일<br>부가상품</a>
                                <!-- <a href="#" class="link link-type01">모바일<br>부가상품</a> -->
                            </li>
                            <li>
                                <button class="link link-type02">혜택과 할인</button>
                                <!-- <a href="#" class="link link-type02">혜택과 할인</a></li> -->
                            </li>
                            <li>
                                <button class="link link-type03">T 로밍</button>
                                <!-- <a href="#" class="link link-type03">T 로밍</a> -->
                            </li>
                            <li>
                                <button class="link link-type04">인터넷/전화/<br>IPTV</button>
                                <!-- <a href="#" class="link link-type04">인터넷/전화/<br>IPTV</a> -->
                            </li>
                            <li>
                                <button class="link link-type05">NUGU 서비스</button>
                                <!-- <a href="#" class="link link-type05">NUGU 서비스</a> -->
                            </li>
                            <li>
                                <button class="link link-type06">스마트홈<br>서비스</button>
                                <!-- <a href="#" class="link link-type06">스마트홈<br>서비스</a> -->
                            </li>
                            <li>
                                <button class="link link-type07">보안솔루션<br>서비스</button>
                                <!-- <a href="#" class="link link-type07">보안솔루션<br>서비스</a> -->
                            </li>
                            <li>
                                <button class="link link-type08">T apps<br>서비스</button>
                                <!-- <a href="#" class="link link-type08">T apps<br>서비스</a> -->
                            </li>
                        </ul>
                    </div>
                </div>
                <!--//다른상품 더보기 -->

                <!-- 하단 link영역 -->
                <div class="cont-box nogaps noborder">
                    <!-- TODO: 링크 이동 추가 필요-->
                    <ul class="link-long-list nobg">
                        <li>
                            <div class="link-long">
                                <a href="/myt/join/product-service">
                                    <span class="ico-thum"></span>나의 요금제
                                    <span class="tx-sub">
                                        <span class="ico"></span>
                                    </span>
                                </a>
                            </div>
                        </li>
                        <li>
                            <div class="link-long">
                                <button>
                                    <span class="ico-thum"></span>요금할인 혜택
                                    <span class="tx-sub">
                                        <span class="ico"></span>
                                    </span>
                                </button>
                            </div>
                        </li>
                        <li>
                            <div class="link-long">
                                <button>
                                    <span class="ico-thum"></span>결합 확인
                                    <span class="tx-sub">
                                        <span class="ico"></span>
                                    </span>
                                </button>
                            </div>
                        </li>
                        <li>
                            <div class="link-long">
                                <a href="/myt/fare/bill/hotbill">
                                    <span class="ico-thum"></span>실시간 사용요금
                                    <span class="tx-sub">
                                        <span class="ico"></span>
                                    </span>
                                </a>
                            </div>
                        </li>
                        <li>
                            <div class="link-long">
                                <button>
                                    <span class="ico-thum"></span>나의 혜택
                                    <span class="tx-sub">
                                        <span class="ico"></span>
                                    </span>
                                </button>
                            </div>
                        </li>
                    </ul>
                </div>
                <!-- //하단 link영역 -->

                <!-- 알뜰폰 한눈에 보기 -->
                <div class="cont-box bgnone noborder">
                    <!-- <a href="#" class="goodphonview-wrap">
                      <h3 class="title">알뜰폰 요금상품  보기</h3>
                      <p class="text">알뜰폰 브랜드별 요금상품을 확인해보세요.</p>
                  </a> -->
                    <button type="button" class="goodphonview-wrap">
                        <h3 class="title">알뜰폰 요금상품 보기</h3>
                        <p class="text">알뜰폰 브랜드별 요금상품을<br>확인해보세요.</p>
                    </button>
                </div>
                <!-- //알뜰폰 한눈에 보기 -->

            </div>
        </div>
        <!--// #contents -->
    </div>
</body>
<% include ../components/javascript.component.html %>
<% include ../components/end.component.html %>