<%#
* @file product.mobileplan-add.html
* @author Jiyoung Jo
* @since 2018.10.08
* id: MV
%>


<%- include('../../components/start.component.html', { pageInfo: locals.pageInfo }); %>
<body>
    <!-- #skip_navigation -->
    <div id="skipNav" class="skip_navi">
        <ul>
            <!-- Grand open 접근성 수정 -->
            <li><a href="#contents" class="fe-replace-history">본문 바로가기</a></li>
            <!--  //Grand open 접근성 수정 -->
        </ul>
    </div>
    <!--// #skip_navigation -->
    <div class="wrap" data-menuId="<%= pageInfo.menuId %>">
        <!-- #header -->
        <%- include('../../../common/views/components/header.component.html', { title: '부가서비스', svcInfo: svcInfo, pageInfo: locals.pageInfo }); %>
        <!--// #header -->
        <!-- #contents -->
        <div class="container-wrap">
            <h2 id="contents" tabindex="-1"><span class="blind">본문시작</span></h2>
            <div class="container">
                
                <!-- 사용중인 상품 -->
                <% if (svcInfo && productData.myAdditions && productData.myAdditions.recentlyJoinsProdNm) { %>
                    <hr class="cont-sp type1" aria-hidden="true"/>
                    <div class="cont-box nogaps">
                        <div class="calling-plan">
                           <a href="/myt-join/additions" class="wrap-link">
                                <i class="badge icon-badge-plan-use"><span class="blind">이용중</span></i>
                                <span class="stit"><%= productData.myAdditions.recentlyJoinsProdNm %><% if (productData.myAdditions.addProdCnt > 1) { %> 외 <%= productData.myAdditions.addProdCnt - 1 %>건<% } %></span>
                           </a>
                       </div>
                    </div>
                <% } %>
                <!--//사용중인 상품 -->

                <hr class="cont-sp type1" aria-hidden="true" id="fe-header-t"/>

                <!-- 스와이프 -->
                <div class="cont-box nogaps noborder">
                    <div class="main-slide-banner slide-pagingtype">
                        <!-- .widget -->
                        <div class="widget">
                            <div class="widget-box">
                                <div class="slider-box">
                                    <ul class="slider" data-location="T" id="fe-banner-t"></ul>
                                </div>
                            </div>
                        </div>
                        <!--// .widget -->
                    </div>
                </div>
                <!-- //스와이프 -->

                <!--상품 퀵메뉴-->
                <hr class="cont-sp type1" aria-hidden="true"/>
                <ul class="product-quickmenu">
                    <li>
                        <a class="link" href="/product/mobileplan-add/list?filters=F01231">
                            <i class="ico type-data"></i>
                            <p class="title">데이터</p>
                        </a>
                    </li>
                    <li>
                        <a class="link" href="/product/mobileplan-add/list?filters=F01232">
                            <i class="ico type-benefits"></i>
                            <p class="title">혜택/편의</p>
                        </a>
                    </li>
                    <li>
                        <a class="link" href="/product/mobileplan-add/list?filters=F01233">
                            <i class="ico type-insurance"></i>
                            <p class="title">안심/보험</p>
                        </a>
                    </li>
                    <li>
                        <a class="link" href="/product/mobileplan-add/list?filters=F01234">
                            <i class="ico type-message"></i>
                            <p class="title">통화/메시지</p>
                        </a>
                    </li>
                    <li>
                        <a class="link" href="/product/mobileplan-add/list?filters=F01235">
                            <i class="ico type-contents"></i>
                            <p class="title">콘텐츠 이용</p>
                        </a>
                    </li>
                    <li>
                        <a class="link" href="/product/mobileplan-add/list?filters=F01236">
                            <i class="ico type-payment"></i>
                            <p class="title">인증/결제</p>
                        </a>
                    </li>
                </ul>
                <!--//상품 퀵메뉴-->

                
                <!-- SKT의 대표 부가상품 -->
                <% const bestAdditions = productData.bestAdditions.prodList; %>
                <% if (bestAdditions && bestAdditions.length > 0) { %>
                <hr class="cont-sp type1" aria-hidden="true"/>
                <div class="cont-box nogaps-btm">
                    <div class="headingbox-wrap">
                        <h3 class="title"><%= productData.bestAdditions.expsTitNm %></h3>
                        <div class="btn">
                            <a class="bt-link-tx underline" href="/product/mobileplan-add/list">전체 부가서비스</a>
                        </div>
                    </div>
                    

                    <ul class="recommendedrate-list">
                        <% const bestLen = Math.min(bestAdditions.length, 7); %>
                        <% for (let i = 0; i < bestLen; i++) { %>
                            <% const addition = bestAdditions[i]; %>
                            <li>
                                <a type="button" class="product-infolink" href="/product/callplan?prod_id=<%= addition.prodId %>">
                                    <% if (addition.prodIconImgUrl) { %> 
                                    <div class="img-box"><img class="lte" src="<%= addition.prodIconImgUrl %>" alt=""></div>
                                    <% } %>
                                    <div class="products-titleinfo">
                                        <h5 class="title"><%= addition.prodNm %></h5>
                                        <p class="info"><span class="money"><%= addition.basFeeInfo.value %></span><% if (!addition.basFeeInfo.isNaN) { %>원<% } %></p>
                                    </div>
                                    <% if (addition.prodFltList) { %>
                                    <div class="taglist-wrap">
                                        <% addition.prodFltList.map(filter => { %>
                                        <span class="tag-text">#<%= filter.prodFltNm %></span>
                                        <% }); %>
                                    </div>
                                    <% } %>
                                    <p class="products-detailinfo"><%= addition.prodSmryDesc %></p>
                                </a>
                            </li>
                        <% } %>
                    </ul>
                </div>
                <% } %>
                <!-- //SKT의 대표 부가상품 -->

                <hr class="cont-sp type1" aria-hidden="true" id="fe-header-c"/>
                <!-- 스와이프 -->
                <div class="cont-box nogaps noborder">
                    <div class="main-slide-banner slide-pagingtype">
                        <!-- .widget -->
                        <div class="widget">
                            <div class="widget-box">
                                <div class="slider-box">
                                    <ul class="slider" data-location="C" id="fe-banner-c"></ul>
                                </div>
                            </div>
                        </div>
                        <!--// .widget -->
                    </div>
                </div>
                <!-- //스와이프 -->

                <!-- 이런 부가서비스는 어떠세요? -->
                <% const recommendedAdditions = productData.recommendedAdditions.prodList; %>
                <% if (recommendedAdditions && recommendedAdditions.length > 0) { %>
                <hr class="cont-sp type1" aria-hidden="true"/>

                <div class="cont-box nogaps-btm">                        
                    <div class="headingbox-wrap">
                        <h3 class="title"><%= productData.recommendedAdditions.expsTitNm %></h3>
                    </div>

                    <ul class="recommendedrate-list">
                        <% const recommendLen = Math.min(recommendedAdditions.length, 5); %>
                        <% for (let i = 0; i < recommendLen; i++) { %>
                            <% const addition = recommendedAdditions[i]; %>
                            <li>
                                <a type="button" class="product-infolink" href="/product/callplan?prod_id=<%= addition.prodId %>">
                                    <% if (addition.prodIconImgUrl) { %> 
                                        <div class="img-box"><img class="lte" src="<%= addition.prodIconImgUrl %>" alt="<%= addition.prodNm %>"></div>
                                    <% } %>
                                    <div class="products-titleinfo">
                                        <h5 class="title"><%= addition.prodNm %></h5>
                                        <p class="info"><span class="money"><%= addition.basFeeInfo.value %></span><% if (!addition.basFeeInfo.isNaN) { %>원<% } %></p>
                                    </div>
                                    <% if (addition.prodFltList) { %>
                                    <div class="taglist-wrap">
                                        <% addition.prodFltList.map(filter => { %>
                                        <span class="tag-text">#<%= filter.prodFltNm %></span>
                                        <% }); %>
                                    </div>
                                    <% } %>
                                    <p class="products-detailinfo"><%= addition.prodSmryDesc %></p>
                                </a>
                            </li>
                        <% } %>
                    </ul>
                </div>
                <% } %>
                <!-- // 이런 부가서비스는 어떠세요? -->


                <% const recommendedTags = productData.recommendedTags.tagList %>
                <% if (recommendedTags) {%>
                <hr class="cont-sp type1" aria-hidden="true"/>

                <div class="cont-box nogaps-btm widget">
                    <h3 class="suggest-tag-title"><%= productData.recommendedTags.expsTitNm %></h3>
                    <div class="widget-box toggle02">
                        <div class="suggest-tag-list">
                            <ul>
                                <% recommendedTags.map(tag => { %>
                                    <li><a role="button" href="/product/mobileplan-add/list?tag=<%= tag.tagId %>" class="link">#<%= tag.tagNm %></a></li>
                                <% }); %>
                            </ul>
                        </div>
                        <div class="suggest-tag-morewrap">
                            <button role="button" aria-pressed="false" class="suggest-tag-more">
                                <span class="more">더 보기</span>
                            </button>
                        </div>
                    </div>
                </div>
                <% } %>
                <!--//추천태그 -->

                <!-- 다른 페이지를 찾고 계신가요? -->
                <div class="cont-box noborder bgnone">
                    <h3 class="pg-chk-tit">다른 페이지를 찾고 계신가요?</h3>
                    <ul class="pg-link-list">
                        <li>
                            <a href="/product/mobileplan"><i class="icon-price-plan-40"></i>요금제</a>
                        </li>
                        <li>
                            <a href="/product/wireplan"><i class="icon-internet-40"></i>인터넷 / 전화 /  IPTV</a>
                        </li>
                        <li>
                            <a href="/product/roaming"><i class="icon-roaming-40"></i>T로밍</a>
                        </li>
                        <li>
                            <a href="/benefit/submain/discount"><i class="icon-discount-40"></i>혜택 / 할인 > 요금 할인</a>
                        </li>
                        <li>
                            <a href="/benefit/submain/combinations"><i class="icon-discount-40"></i>혜택 / 할인 > 결합 할인  </a>
                        </li>
                    </ul>
                </div>
                <!-- //다른 페이지를 찾고 계신가요? -->
            </div>
        </div>
        <!--// #contents -->
        <%- include('../../../common/views/components/footer.component.html', { svcInfo: svcInfo, pageInfo: pageInfo }); %>
    </div>
</body>
<% include ../../components/javascript.component.html %>
<script>
    $(document).ready(function() {
        new Tw.ProductSubmain($('.wrap'), '<%= pageInfo.menuId %>');
    })
</script>
<% include ../../components/end.component.html %>
