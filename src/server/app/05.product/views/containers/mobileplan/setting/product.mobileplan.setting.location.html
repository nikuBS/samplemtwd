<%#
* MenuName: 상품 > 가입설정해지 > 010캠퍼스요금제,TTL지역할인요금제,TTL캠퍼스10요금제 (MP_02_02_03_08)
* FileName: product.setting.target-discount.html
* Author: Lee Gyu-gwang (skt.P134910@partner.sk.com)
* Date: 2018.11.14
* Summary: 할인지역,지정번호 입력/변경
%>
<%- include('../../../components/start.component.html', { pageInfo: locals.pageInfo }); %>
<script id="num-list-tmplt-item" type="text/x-handlebars-template">

    <li class="list-box type-main" data-auditdtm="{{ auditDtm }}" data-svcnum="{{ svcNumMask }}">
        <p class="list-text">
            <span class="mtext">{{ hp svcNumMask }}</span>
        </p>
        <div class="list-btn">
            <% if (svcInfo && locals.pageInfo && pageInfo.auth && pageInfo.auth.cert && pageInfo.auth.cert.maskAuthYn === 'Y' && !pageInfo.masking) { %>
            <div class="bt-alone"><button class="bt-line-gray1 fe-bt-masking-alert" data-menuid="<%= pageInfo.menuId %>" data-menuurl="<%= pageInfo.menuUrl %>">해지</button></div>
            <% } else { %>
            <div class="bt-alone"><button class="bt-line-gray1 fe-bt-num-cancel">해지</button></div>
            <% } %>
        </div>
    </li>

</script>


<div class="wrap" data-menuId="<%= pageInfo.menuId %>">
    <!-- .popup hbs -->
    <div class="popup-page tw-popup nobg h60 txt-screed"><!-- 하단에 fixed 버튼으로 여백이 필요할때 .fixed-bottom 기본60여백 / 높이 30단위 class 지원 .h30, .h60, .h90 ... -->
        <!-- #header -->
        <%- include('../components/header.component.html', { title: '설정', type: 'popup', svcInfo: svcInfo, pageInfo: pageInfo }); %>
        <!--// #header -->

        <script id="loc-search-list-tmplt-item" type="text/x-handlebars-template">
            <li class="radiobox type01" role="radio" aria-checked="false">
                <input type="radio" name="radio" value="{{ dcAreaNum }}" title="{{ areaNm }}" aria-labelledby="aria-comp-radio1">
                <div class="comp-list-layout type2" id="aria-comp-radio1">
                    <p class="layout-text">
                        <span class="mtext">{{ areaNm }}</span>
                    </p>
                </div>
            </li>
        </script>

        <!-- .container-wrap -->
        <div class="container-wrap">
            <h2 class="blind">내용</h2>
            <div class="container">

                <% if ( showNumberSetting ) { %>
                <!-- .component -->
                <div class="component">
                    <div class="component-box tabs">
                        <div class="tab-area type1"><!-- 타입별 탭형태 변환 -->

                            <div class="tab-linker">
                                <ul role="tablist">
                                    <li role="tabpanel1" aria-selected="true" aria-controls="tab-loc" id="tab1"><a href="#tabpanel1" aria-selected="true" role="tab">할인지역</a></li><!-- 링크 이동시 활성화 된 탭에 aria-selected="true" 설정 -->
                                    <li role="tabpanel2" aria-selected="false" aria-controls="tab-num" id="tab2"><a href="#tabpanel2" aria-selected="false" role="tab">지정번호</a></li>

                                </ul>
                            </div>

                            <div class="tab-contents">
                                <ul>
                                    <li role="tabpanel1" id="tab-loc" aria-labelledby="tab1" aria-selected="true">
                <% } %>

                                        <div class="ti-caption-gray">
                                            <h3 class="tit">할인지역 설정</h3>
                                            <div class="num"><%= data.svcNum %></div>
                                        </div>
                                        <div class="cont-box">
                                                <span class="inputbox search">
                                                    <span class="input">
                                                        <input id="loc-search-input" type="text" placeholder="지역을 검색해보세요." title="할인지역 설정 입력 지역을 검색해보세요." value="" aria-describedby="aria-exp-desc1">
                                                        <button class="cancel"><span class="blind">삭제</span></button>
                                                        <button class="search" id="btnSearchPop">검색</button>
                                                    </span>
                                                </span>
                                            <div class="announcement-box mt18">
                                                <!--<p class="announcement-bullet type02" id="aria-exp-desc1">기본 하나의 할인지역이 제공되며, 할인지역 추가 시<br />월 1,500원 추가 요금이 부과됩니다.</p>-->
                                                <% if ( !showNumberSetting ) { %>
                                                <p class="announcement-bullet type02" id="aria-exp-desc1">할인지역 1개를 기본으로 설정하실 수 있으며, 할인지역을 추가하시면 한 달에 1,500원의 추가요금이 있습니다.</p>
                                                <% } %>
                                            </div>
                                        </div>
                                        <hr class="cont-sp type1" aria-hidden="true"/>
                                        <div class="cont-box">
                                            <h4 class="con-tit0">할인 신청하신 지역</h4>
                                            <ul class="discount-location">
                                                <script id="loc-list-tmplt-item" type="text/x-handlebars-template">
                                                    <li data-dcareanum="{{ dcAreaNum }}" data-auditDtm="{{ auditDtm }}" data-dcareanm="{{ dcAreaNm }}">
                                                        <span class="tit">{{ no }}. {{ dcAreaNm }}</span>
                                                        <span class="btn"><div class="bt-alone"><button class="bt-line-gray1 fe-bt-loc-cancel">해지</button></div></span>
                                                    </li>
                                                </script>
                                            </ul>
                                        </div>

                <% if ( showNumberSetting ) { %>
                                    </li>

                                    <li role="tabpanel2" id="tab-num" aria-labelledby="tab2">
                                        <div class="ti-caption-gray">
                                            <h3 class="tit">지정번호 설정</h3>
                                            <div class="num"><%= svcInfo.svcNumDash %></div>
                                        </div>

                                        <!-- .cont-box -->
                                        <div class="cont-box">
                                            <div class="input-number-wrap">
                                                <h3 class="tit" id="aria-citation-phone">지정번호 설정할 회선번호</h3>
                                                <div class="form-box">
                                                        <span id="num-inputbox" class="inputbox bt-add error"><!-- 입력 필드 오류 시 .error 추가 -->
                                                            <span class="input">
                                                                <input id="num-input" type="tel" placeholder="숫자만 입력" value="" title="지정번호 설정할 번호를 입력하세요" aria-describedby="aria-phone-tx1" maxlength="12">
                                                                <button class="cancel"><span class="blind">삭제</span></button>
                                                            </span>
                                                            <span class="bt-box type01">
                                                                <button type="button" id="btnAddr">주소록</button>
                                                            </span>
                                                        </span>
                                                    <div class="announcement-box mt16" id="aria-phone-tx1">
                                                        <p class="announcement-bullet type01">지정번호는 최대 3회선까지 신청하실 수 있으며, 휴대폰, 유선전화, 인터넷전화, 무선특수망번호에 한해 지정하실 수 있습니다.</p>
                                                    </div>
                                                </div>
                                            </div>
                                            <ul class="bt-slice style1">
                                                <li class="bt-blue1">
                                                    <button id="btnNumAdd" disabled>추가하기</button>
                                                </li>
                                            </ul>
                                        </div>
                                        <!--// .cont-box -->

                                        <hr class="cont-sp type1" aria-hidden="true"/>

                                        <!-- .cont-box -->
                                        <div class="cont-box nogaps">
                                            <div class="input-number-wrap">
                                                <h3 class="tit type1">지정번호 신청하신 회선</h3>
                                                <div class="list-comp-thumnail">
                                                    <ul class="comp-box discount-number">

                                                    </ul>
                                                </div>
                                            </div>
                                        </div>
                                    </li>
                                </ul>
                            </div>
                        </div>
                    </div>
                </div>
                <!--// .component -->
                <% } %>
            </div>
        </div>
        <!-- // .container-wrap -->
        <!--// #contents -->

        <!-- .popup-closeBtn -->
        <button class="prev-step" id="fe-prev-step">취소</button>
        <!--// .popup-closeBtn -->
    </div>
    <!-- // .popup hbs -->
</div>

<% include ../../../components/javascript.component.html %>
<script>
  $(document).ready(function () {
    new Tw.ProductMobileplanSettingLocation($('.wrap'), <%- JSON.stringify(data) %>, <%- showNumberSetting %>);
  });
</script>
<% include ../../../components/end.component.html %>