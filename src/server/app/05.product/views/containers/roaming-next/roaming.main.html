<%- include('../../components/start.component.html', { pageInfo: locals.pageInfo }); %>
<body class="rn">
<div id="roamingMain" class="wrap">

    <!-- 202011 - 웹접근성 수정건 적용 : 스킵네비 추가 시작 -->
    <div id="skipnavigation" class="tloaming-skip-nav">
    <ul>
        <li><a href="#contents">본문 바로가기</a></li>
    </ul>
    </div>
    <!-- //202011 - 웹접근성 수정건 적용 : 스킵네비 추가 끝 -->

    <!-- //웹접근성 hearder 삭제-->

    <%- include('../components/header.component.html', { title: '', svcInfo: svcInfo }) %>

    <div id="contents">
    <div id="content">
        <%# 첫 로밍 고객인 경우 다른 문구 노출 %>
        <% if (newbie && newbie.isRoamingFirstTime === 'Y') { %>
        <h2><span class="colorPoint">baro 무료통화</span>와 함께</h2>
        <h2>안전한 여행하세요!</h2>
        <p class="description">
            로밍이 처음이신가요?<br />
            로밍 요금제를 이용하시면 baro를 통해 음성통화가 무료로 제공됩니다.
        </p>
        <% } else { %>
        <h2>해외여행 갈 땐</h2>
        <h2 class="colorPoint">T로밍과 함께 !</h2>
        <p class="description">
            T로밍 요금제를 통해 해외에서도 국내처럼 <br />
            자유롭게 baro 통화하세요.
        </p>
        <% } %>

        <% if (currentUse && currentUse.prodInfoTxt) { %>
        <a href="/product/roaming/my-use">
        <div class="card-compact">
            <span class="status">이용 중</span>
            <span class="text" id="currentUseText"><%= currentUse.prodInfoTxt %></span>
            <img class="arrow" src="<%= CDN %>/img/product/roam/ico_arrow.png" width="13" />
        </div>
        </a>
        <% } %>
        <div class="card" data-ix="">
            <h3>국가별 맞춤 로밍 요금제 추천</h3>
            <p class="description">여행할 나라를 선택해 주세요.</p>
            <table id="nations" border="0" cellspacing="0" cellpadding="0">
                <tr>
                    <td id="pc1" fix="1"></td>
                    <td id="pc2" fix="2"></td>
                    <td id="pc3" fix="3"></td>
                </tr>
                <tr>
                    <td id="pc4" fix="4"></td>
                    <td id="pc5" fix="5"></td>
                    <td id="pc6" fix="6"></td>
                </tr>
            </table>
            <p class="description">찾으시는 나라가 없나요?</p>
            <form class="search-form">
                <div class="field-container">
                    <input type="text" placeholder="원하는 국가명을 입력해 주세요" id="nation-search" title="국가명" />
                    <!-- <input type="text" placeholder="원하는 국가명을 입력해 주세요" id="nation-search" class="ui-autocomplete-input" autocomplete="off" title="국가명" /> -->
                    <button role="link" title="국가 검색" id="btn_search2">
                        <img src="<%= CDN %>/img/product/roam/ico_search_a.png" alt="검색" />
                    </button>
                </div>
            </form>
            <div class="link">
                <a href="#" class="fe-show-nations">전체 국가 보기</a>
            </div>
        </div>
        <% if (recentUse && recentUse.prodId) { %>
        <div class="card">
            <h3>최근 이용하신 로밍 요금제</h3>
            <div class="history">
                <a href="/product/callplan?prod_id=<%= recentUse.prodId %>">
                    <h4>
                        <%= recentUse.prodNm %>
                    </h4>
                </a>
                <div class="range">
                    <img src="<%= CDN %>/img/product/roam/ico_date_range.svg" />
                    <%= recentUse.formattedStartDate %>
                    ~
                    <%= recentUse.formattedEndDate %>
                </div>
                <span class="days">
                    <%= recentUse.nights %>박
                    <%= recentUse.nights + 1 %>일
                </span>
            </div>
            <p class="fs12 mt10 tod-txcolor4">* 실제 사용 기준이 아닌 요금제 가입 기준입니다.</p><!-- [OP002-11060] [로밍][M] 로밍이력조회 요청 건 -->
            <!-- baro 로밍 이력이 있는 경우만 노출 -->
            <% if (history) { %>
            <div class="link">
                <a href="/product/roaming/my-use?useInfo=2">지난 여행 때 이용했던 이력보기</a><!-- [OP002-11060] [로밍][M] 로밍이력조회 요청 건 -->
            </div>
            <% } %>
            <!--
            <div class="link">
                <a href="/product/roaming/history">지난 여행 이용 패턴</a>
            </div>
            -->
        </div>
        <% } else if (banners && banners.length > 0) { %>
        <!-- 스와이프 -->
        <div class="cont-box nogaps noborder">
            <div class="main-slide-banner slide-pagingtype">
                <!-- .widget -->
                <div class="widget">
                    <div class="widget-box">
                        <div class="slider-box">
                            <ul class="slider" data-location="T" id="fe-banner-t">
                            </ul>
                        </div>
                    </div>
                </div>
                <!--// .widget -->
            </div>
        </div>
        <!-- //스와이프 -->
        <% } %>
        <div class="card pb16 mt16">
            <h3>로밍 요금제 한눈에 보기</h3>
            <div id="groups">
                <% for (const group of groups) { %>
                <a href="/product/roaming/fee#<%= group.prodGrpId %>">
                    <div class="group">
                        <img src="<%= CDN %><%= group.prodGrpBnnrImgUrl %>"
                             alt="<%= group.prodGrpBnnrImgAlt  %>"/>   <!-- 접근성 수정 : as-is  ==> group.prodGrpBnnrImgAlt /  prodGrpDesc-->
                    </div>
                </a>
                <% } %>
            </div>
        </div>
        <div class="card no-padding">
            <a href="/product/roaming/coupon">
                <div class="menu-link border-bottom">
                    <img class="icon" src="<%= CDN %>/img/product/roam/ico_coupon.png" width="32" alt="" />
                    <span>로밍 카드/쿠폰</span>
                    <img class="arrow" src="<%= CDN %>/img/product/roam/ico_arrow.png" width="13" alt="" />
                </div>
            </a>
            <a href="/product/roaming/fi/guide">
                <div class="menu-link">
                    <img class="icon" src="<%= CDN %>/img/product/roam/ico_barobox.svg" width="32" alt="" />
                    <span>baro Box 대여</span>
                    <img class="arrow" src="<%= CDN %>/img/product/roam/ico_arrow.png" width="13" alt="" />
                </div>
            </a>
        </div>
    </div>
    <a href="/product/roaming/info/guide">
        <div class="info-link">
            출국 전 알아 두면 좋은 정보
            <img class="arrow" src="<%= CDN %>/img/product/roam/ico_arrow.png" width="13" alt="" />
        </div>
    </a>
    <a href="/product/roaming/info/guide?reqItem=lost">
        <div class="info-link tail">
            <div class="separator-top"></div>
            로밍 중 휴대폰 분실 안내
            <img class="arrow" src="<%= CDN %>/img/product/roam/ico_arrow.png" width="13" alt="" />
        </div>
    </a>
    <div class="links">
        <div class="other-link">
            <a href="/product/roaming/info/center">로밍 센터 안내</a>
        </div>
        <div class="divider"></div>
        <div class="other-link">
            <a href="/customer/faq/category?id=1400000&title=%EB%A1%9C%EB%B0%8D">자주 하는 질문</a>
        </div>
    </div>
    </div>
    <%- include('../../../../../common/views/components/footer.component.html', { svcInfo: svcInfo, pageInfo: pageInfo }) %>
</div>
<%- include('../../components/roaming-next/schedule.picker.html'); %>
<%- include('../../components/roaming-next/roaming.menu.html'); %>
</body>
<% include ../../components/javascript.component.html %>
<script type="text/javascript">
  var baseDiv = '#roamingMain';

  $(document).ready(function () {
    new Tw.RoamingMain($(baseDiv), JSON.parse('<%- JSON.stringify(popularNations) %>'),
      {
        'EUR': JSON.parse('<%- JSON.stringify(nations.eur) %>'),
        'AFR': JSON.parse('<%- JSON.stringify(nations.afr) %>'),
        'ASP': JSON.parse('<%- JSON.stringify(nations.asp) %>'),
        'AMC': JSON.parse('<%- JSON.stringify(nations.amc) %>'),
        'MET': JSON.parse('<%- JSON.stringify(nations.met) %>'),
        'OCN': JSON.parse('<%- JSON.stringify(nations.ocn) %>'),
      }, <%- JSON.stringify(banners) %>);
  });
</script>
<script type="text/x-handlebars-template" id="tpl-nation-card">
    <button  title="{{ name }}" role="link" data-code="{{ code }}" data-name="{{ name }}">
        <div tabIndex="-1" class="pn" data-code="{{ code }}" data-name="{{ name }}">
            <img src="{{ imageUrl }}" alt="{{ imageAlt }}" />
        </div>
    </button>
</script>

<% include ../../components/roaming-next/calendar.javascript.html %>
<% include ../../components/end.component.html %>
