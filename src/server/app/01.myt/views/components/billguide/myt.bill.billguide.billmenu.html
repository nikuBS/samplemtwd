<!--
* FileName: myt.bill.billguide.billmenu.html
* Author: Hyeryoun Lee (skt.P130712@partner.sk.com)
* Date: 2018. 7. 19.
* Bill group accordion menu EJS template
-->
<div class="widget">
    <div class="widget-box accordion2">
        <div class="acco-style payment-list">
            <ul class="acco-box">
                <!-- 아코디언 한줄 -->
                <% Object.keys(billItems).forEach(function(groupkey) { %>
                <% var group= billItems[groupkey]; %>
                <li class="acco-list"><!-- on , off -->
                    <!-- 아코디언 타이틀 -->
                    <div class="acco-title">
                        <button role="button" aria-pressed="false">
                            <span class="pt-tit-wrap">
                                <span class="pt-tit"><%= groupkey %></span>
                                 <% if(group.discount) { %>
                                <span class="pt-price discount"><span class="num"><%= group.total %></span>원</span>
                                <% } else { %>
                                <span class="pt-price"><span class="num"><%= group.total %></span>원</span>
                                <% } %>
                            </span>
                        </button>
                    </div>
                    <!--// 아코디언 타이틀 -->
                    <!-- 아코디언 내용 -->
                    <div class="acco-content">
                        <ul class="payment-detail-depth1">
                            <% Object.keys(group).forEach(function(groupSKey) { %>
                            <% var sGroup = group[groupSKey]; %>
                            <% if(sGroup.items) { %>
                            <li>
                                <dl class="pdt-wrap">
                                    <dt class="pdt-tit"><%= groupSKey %>
                                        <% if(sGroup.noVAT){ %>
                                        <span class="ico-foot-2"></span>
                                        <% } %>
                                        <% if(sGroup.is3rdParty){ %>
                                        <span class="ico-foot-1"></span>
                                        <% } %>
                                    </dt>
                                    <% if(sGroup.discount){ %>
                                    <dd class="pdt-price discount"><span class="num"><%= sGroup.total %></span>원</dd>
                                    <% } else {%>
                                    <dd class="pdt-price"><span class="num"><%= sGroup.total %></span>원</dd>
                                    <% } %>
                                </dl>

                                <!-- depth-2 -->
                                <ul class="payment-detail-depth2">
                                    <% sGroup.items.forEach((item) => { %>
                                    <li>
                                        <dl class="pdt-wrap">
                                            <dt class="pdt-tit"><%= item.name %>
                                                <% if(item.noVAT) { %>
                                                <span class="ico-foot-2"></span>
                                                <% } else if(item.is3rdParty){ %>
                                                <span class="ico-foot-1"></span>
                                                <% } %>
                                            </dt>
                                            <% if(item.discount) { %>
                                            <dd class="pdt-price discount"><span class="num"><%= item.amount %></span>원</dd>
                                            <% } else { %>
                                            <dd class="pdt-price"><span class="num"><%= item.amount %></span>원</dd>
                                            <% } %>
                                        </dl>
                                    </li>
                                    <% }) %><!-- end loop items-->
                                </ul>
                            </li>
                            <% } %> <!-- end isBill -->
                            <% }) %><!-- end sgroup -->
                        </ul>
                        <% if(group.showDesc){ %>
                        <div class="footnote-txt">
                            <ul>
                                <li id="aria-footnote-01"><span class="ico-foot-2"></span>부가가치세 제외 대상 표시</li><!--상단 텍스트 aria-labelledby 와 id 속성값을 동일하게 처리해야 함 -->
                                <li id="aria-footnote-02"><span class="badge badge-other"><span class="blind">타사</span></span>당사에서 청구 대행하는 타사 요금</li>
                            </ul>
                        </div>
                        <% } %>
                    </div>
                    <!--// 아코디언 내용 -->
                </li>
                <% }); %>
            </ul>
        </div>
    </div>
</div>