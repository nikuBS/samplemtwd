<%#
* 나의 가입정보 > 나의 부가상품
* @file myt-join.myplanadd.wire.html
* @author Jiyoung Jo
* @since 2018.10.11
* ID: MS_05
_%>
<%- include('../../components/start.component.html', { pageInfo: locals.pageInfo }); _%>
<!-- #skip_navigation -->
<div id="skipNav" class="skip_navi">
    <ul>
        <!-- Grand open 접근성 수정 -->
        <li><a href="#contents-area" class="fe-replace-history">본문 바로가기</a></li>
        <!--  //Grand open 접근성 수정 -->
    </ul>
</div>
<!--// #skip_navigation -->
<div class="wrap" data-menuId="<%- pageInfo.menuId %>">
    <!-- #header -->
    <%- include('../../../common/views/components/header.component.html', { title: '나의 부가상품', svcInfo: svcInfo, pageInfo: locals.pageInfo }); _%>
    <!--// #header -->
    <!-- #contents -->
    <div id="contents" class="container-wrap">
        <h2 id="contents-area" tabindex="-1"><span class="blind">본문시작</span></h2>
        <div class="container">
            <%- include('../../../../../common/views/components/common.select-line.component.html', { svcInfo: svcInfo, xtEid: { single: "CMMA_A3_B13_C62-1", multiple: "CMMA_A3_B13_C62-2" } }); _%>
            <%_ const additionsPaid = additions.joined.paids; _%>
            <%_ const additionsFree = additions.joined.frees; _%>
            <%_ const additionsReserved = additions.reserved; _%>
            <%_ const additionsJoinable = additions.joinable; _%>
            <%_ const totalAdditions = additionsPaid.length + additionsFree.length; _%>
            <div class="tod-sel-top-wrap">
                <div class="link-cont">
                    <span class="total">전체 <%- totalAdditions %></span>
                    <%_ if (additionsPaid.length) { _%>
                    <a href="#tod-cont1">유료 <%- additionsPaid.length %></a>
                    <%_ } _%>
                    <%_ if (additionsFree.length) { _%>
                    <a href="#tod-cont2">무료 <%- additionsFree.length %></a>
                    <%_ } _%>
                </div>
            </div>

            <%_ if (totalAdditions === 0) { _%>
            <!-- .cont-box -->
            <div class="cont-box nogaps">
                <div class="add-prd-wrap">
                    <div class="contents-empty">
                        <!-- Grand open 접근성 수정 -->
                        <span class="ico type1"><span class="blind"></span></span>
                        <!-- // Grand open 접근성 수정 -->
                        <p class="desc">현재 사용 중인 <br> 부가상품 없습니다.</p>
                    </div>
                </div>
            </div>
            <!--// .cont-box -->

            <hr class="cont-sp type1" aria-hidden="true"/>
            <%_ } else { _%>
                <%_ if (additionsPaid.length) { _%>
            <div class="tod-link-cont-anchor" id="tod-cont1"></div>
            <!-- .cont-box -->
            <div class="cont-box nogaps-btm">
                <h3 class="tit-type7">유료 부가서비스 <%- additionsPaid.length %>개</h3>
                <div class="add-prd-wrap tod-type02">
                    <ul class="list-comp-lineinfo">
                        <%_ additionsPaid.forEach(addition => { _%>
                            <%- include('./myt-join.myplanadd.wire.joined.html', { addition }); _%>
                        <%_ }); _%>
                    </ul>
                </div>
            </div>
            <!--// .cont-box -->

            <hr class="cont-sp type1" aria-hidden="true"/>
                <%_ } _%>
                <%_ if (additionsFree.length) { _%>
            <div class="tod-link-cont-anchor" id="tod-cont2"></div>
            <!-- .cont-box -->
            <div class="cont-box nogaps-btm">
                <h3 class="tit-type7">무료 부가서비스 <%- additionsFree.length %>개</h3>
                <div class="add-prd-wrap tod-type02">
                    <ul class="list-comp-lineinfo">
                        <%_ additionsFree.forEach(addition => { _%>
                            <%- include('./myt-join.myplanadd.wire.joined.html', { addition }); _%>
                        <%_ }); _%>
                    </ul>
                </div>
            </div>
            <!--// .cont-box -->

            <hr class="cont-sp type1" aria-hidden="true"/>
                <%_ } _%>
            <%_ } _%>
            <%_ if (additionsReserved.length > 0) { _%>

            <!-- .cont-box -->
            <div class="cont-box nogaps-btm">
                <h3 class="tit-type7">신청 접수 중인 부가서비스</h3>
                <div class="add-prd-wrap tod-type02">
                    <ul class="list-comp-lineinfo">
                        <%_ additionsReserved.map(addition => { _%>
                            <%- include('./myt-join.myplanadd.wire.reserved.html', { addition }); _%>
                        <%_ }); _%>
                    </ul>
                </div>
            </div>
            <!--// .cont-box -->

            <hr class="cont-sp type1" aria-hidden="true"/>
            <%_ } _%>
            <%_ if (additionsJoinable.length > 0) { _%>

            <!-- .cont-box -->
            <div class="cont-box nogaps-btm">
                <h3 class="tit-type7">가입 가능한 부가서비스</h3>
                <div class="add-prd-wrap tod-type02">
                    <ul class="list-comp-lineinfo">
                        <%_ additionsJoinable.map(addition => { _%>
                            <%- include('./myt-join.myplanadd.wire.reserved.html', { addition }); _%>
                        <%_ }); _%>
                    </ul>
                </div>
            </div>
            <!--// .cont-box -->

            <hr class="cont-sp type1" aria-hidden="true"/>
            <%_ } _%>

            <div class="cont-box nogaps-btm">
                <h3 class="suggest-tag-title">다른 부가서비스를 찾고 계신가요?</h3>
                <div class="extra-servicebox">
                    <button type="button" class="btn-round2 btn-style3">데이터</button>
                    <button type="button" class="btn-round2 btn-style3">혜택 / 편의</button>
                    <button type="button" class="btn-round2 btn-style3">안심/보험</button>
                    <button type="button" class="btn-round2 btn-style3">통화 / 메세지</button>
                    <button type="button" class="btn-round2 btn-style3">콘텐츠 이용</button>
                    <button type="button" class="btn-round2 btn-style3">인증 / 결제</button>
                </div>
            </div>

            <!-- .cont-box -->
            <div class="cont-box noborder bgnone">
                <h3 class="pg-chk-tit">꼭 확인해 주세요</h3>
                <ul class="pg-chk-list02">
                    <li><button id="MS_05_01_tip_02" class="btn-tip" aria-haspopup="true">부가서비스 이용안내<i class="icon-badge-tip"><span class="blind">tip</span></i></button></li>
                    <%# // TODO: 옵션/할인 프로그램 안내 tip 추가 _%>
                    <li><button id="MS_06_01_tip_03" class="btn-tip" aria-haspopup="true">옵션/할인 프로그램 안내<i class="icon-badge-tip"><span class="blind">tip</span></i></button></li>
                </ul>
            </div>
            <!--// .cont-box -->
        </div>
    </div>
    <!--// #contents -->
</div>
<%- include('../../../common/views/components/footer.component.html', { svcInfo: svcInfo, pageInfo: pageInfo }); _%>
<%- include('../../components/javascript.component.html') _%>
<script type="text/javascript">
    $(document).ready(function () {
        $(document).on('scroll', function () {
            $('.tod-link-cont-anchor').each(function (index, ele) {
                if (parseInt($(ele).offset().top, 0) <= $(window).scrollTop()) {
                    $('.link-cont > a').removeClass('on').eq(index).addClass('on');
                }
            });
        });
    });
</script>
<script>
    $(document).ready(function () {
        new Tw.MyTJoinMyPlanAdd({
            $element: $('#contents')
        });
    });
</script>
<%- include('../../components/end.component.html') _%>
