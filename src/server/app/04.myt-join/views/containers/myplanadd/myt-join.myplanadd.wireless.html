<%#
* @file myt-join.myplanadd.wireless.html
* @author Jiyoung Jo
* @since 2018.10.11
* ID: MS_06
_%>
<%- include('../../components/start.component.html', { pageInfo: locals.pageInfo }); _%>
<!-- #skip_navigation -->
<div id="skipNav" class="skip_navi">
    <ul>
        <!-- Grand open 접근성 수정 -->
        <li><a href="#contents-area" class="fe-replace-history">본문 바로가기</a></li>
        <!--  //Grand open 접근성 수정 -->
    </ul>
</div>
<!--// #skip_navigation -->
<div class="wrap" data-menuId="<%= pageInfo.menuId %>">
    <!-- #header -->
    <%- include('../../../common/views/components/header.component.html', { title: '나의 부가서비스', svcInfo: svcInfo, pageInfo: locals.pageInfo }); %>
    <!--// #header -->
    <!-- #contents -->
    <div id="contents" class="container-wrap">
        <h2 id="contents-area" tabindex="-1"><span class="blind">본문시작</span></h2>
        <div class="container">
            <%# OP002-8156: [개선][FE](W-1910-078-01) 회선선택 영역 확대 2차 _%>
            <%- include('../../../../../common/views/components/common.select-line.component.html', { svcInfo: svcInfo, xtEid: { single: "CMMA_A3_B12-29", multiple: "CMMA_A3_B12-28" } }); _%>
            <%# // OP002-8156: [개선][FE](W-1910-078-01) 회선선택 영역 확대 2차 _%>
            <div class="add-prd-top-wrap">
                <span class="select" role="tablist">
                    <button role="tab" class="on" id="fe-all-btn" aria-selected="true">전체</button>
                    <button role="tab" id="fe-pay-btn" aria-selected="false">유료만 보기</button>
                </span>
                <span class="counts">총 <em><%- additions.length %></em>개</span>
            </div>
            <div class="cont-box nogaps">
                <div class="add-prd-wrap">
                    <div class="contents-empty fe-empty<%- additions.length > 0 ? ' none' : '' %>" aria-hidden="<%- additions.length > 0 %>">
                        <span class="ico type1"><span class="blind">느낌표(!)</span></span>
                        <p class="desc">현재 사용 중인 부가서비스가 없습니다.</p>
                    </div>
                    <%_ if (additions.length > 0) { _%>
                    <ul class="list-comp-lineinfo">
                        <% additions.map(addition => { _%>
                            <%_ const hasButtons = addition.btnList && addition.btnList.length > 0, hasLink = addition.prodLinkYn === "Y"; _%>
                        <!-- [OP002-4115] 신규 변경사항 - 유료만 보기 탭 선택시 유료 및 상세참조 부가서비스 카운팅 개수 출력 -->
                        <li class="<%= hasButtons ? 'add-con' : '' %>" data-isFree="<%- !addition.isNotFree %>">
                            <!-- 리스트 하단에 추가 컨텐츠 있을 경우 li에 class="add-con" 추가 -->
                            <%_ if (hasLink) { _%>
                            <a href="/product/callplan?prod_id=<%= addition.linkProdId || addition.prodId %>" class="link">
                                <%- include('./myt-join.myplanadd.wireless.joined.html', { addition: addition, hasLink: hasLink, hasButtons: hasButtons }); _%>
                            </a>
                            <%_ } else { _%>
                            <div class="not-link">
                                <%- include('./myt-join.myplanadd.wireless.joined.html', { addition: addition, hasLink: hasLink, hasButtons: hasButtons }); _%>
                            </div>
                            <%_ } _%>
                            <%# TODO: wire와 wireless가 서로 다르게 처리되는 부분 확인 필요 _%>
                            <%_ if (hasButtons) { _%>
                            <span class="bt-wrap">
                                <% addition.btnList.map(btn => { _%>
                                <button class="bt-tx-blue fe-btn-link" data-url="<%= btn.btnLinkUrl %>" data-prod-id="<%= addition.linkProdId || addition.prodId %>"><%= btn.btnNm %></button>
                                <%_ }); _%>
                            </span>
                            <%_ } _%>
                        </li>
                        <%_ }); _%>
                    </ul>
                    <%_ } _%>
                </div>
            </div>
            <%_ if (roaming && (roaming.recentlyJoinsProdNm || roaming.addRoamingProdCnt > 0)) { _%>

            <hr class="cont-sp type1" aria-hidden="true" />

            <!-- .cont-box -->
            <div class="cont-box nogaps">
                <div class="add-prd-wrap">
                    <ul class="list-comp-lineinfo">
                        <li>
                            <a href="/product/roaming/my-use<%= roaming.recentlyJoinsProdNm ? '' : '#add' %>" class="link">
                                <div class="lineinfo-user">
                                    <span class="info-title">나의 로밍 요금제 및<br>부가서비스</span>
                                </div>
                                <div class="lineinfo-data">
                                    <span class="info-title">
                                    <%_ if (roaming.recentlyJoinsProdNm) { _%>
                                        <%= roaming.recentlyJoinsProdNm %>
                                        <%_ if (roaming.addRoamingProdCnt > 0) { _%>
                                            <span class="etc-num">외 <%- roaming.addRoamingProdCnt %>건</span>
                                        <%_ } _%>
                                    <%_ } else { _%>
                                        <%- roaming.addRoamingProdCnt %>건
                                    <%_ } _%>
                                    <span class="ico"><span class="blind">자세히 보기</span></span></span>
                                </div>
                            </a>
                        </li>
                    </ul>
                </div>
            </div>
            <!--// .cont-box -->
            <%_ } _%>

            <hr class="cont-sp type1" aria-hidden="true">

            <!-- .cont-box -->
            <div class="cont-box nogaps-btm">
                <h3 class="suggest-tag-title">다른 부가서비스를 찾고 계신가요?</h3>
                <div class="extra-servicebox">
                    <a type="button" class="btn-round2 btn-style3" href="/product/mobileplan-add/list?filters=F01231">데이터</a>
                    <a type="button" class="btn-round2 btn-style3" href="/product/mobileplan-add/list?filters=F01232">혜택 / 편의</a>
                    <a type="button" class="btn-round2 btn-style3" href="/product/mobileplan-add/list?filters=F01233">안심/보험</a>
                    <a type="button" class="btn-round2 btn-style3" href="/product/mobileplan-add/list?filters=F01234">통화 / 메세지</a>
                    <a type="button" class="btn-round2 btn-style3" href="/product/mobileplan-add/list?filters=F01235">콘텐츠 이용</a>
                    <a type="button" class="btn-round2 btn-style3" href="/product/mobileplan-add/list?filters=F01236">인증 / 결제</a>
                </div>
            </div>
            <!--// .cont-box -->

            <!-- 꼭 확인해 주세요 2018.11.02 추가 -->
            <div class="cont-box noborder bgnone">
                <h3 class="pg-chk-tit">꼭 확인해 주세요</h3>
                <ul class="pg-chk-list02">
                    <li><button id="MS_06_01_tip_0<%- svcInfo.svcAttrCd === 'M3' ? 3 : 1 %>" type="button" class="btn-tip" aria-haspopup="true">부가서비스 이용안내<i class="icon-badge-tip"><span class="blind">tip</span></i></button></li>
                </ul>
            </div>
            <!-- //꼭 확인해 주세요 -->
        </div>
    </div>
    <!--// #contents -->
</div>
<%- include('../../../common/views/components/footer.component.html', { svcInfo: svcInfo, pageInfo: pageInfo }); _%>
<% include ../../components/javascript.component.html _%>
<script>
    $(document).ready(function () {
        new Tw.MyTJoinMyPlanAdd({
            $element: $('#contents')
        });
    });
</script>
<% include ../../components/end.component.html _%>
