<%#
* FileName: myt-join.submain.html
* Author: Kim InHwan (skt.p132150@partner.sk.com)
* Date: 2018.10.05
%>

<%- include('../components/start.component.html', { pageInfo: data.pageInfo }); %>
<body>
<!-- #skip_navigation -->
<div id="skipNav" class="skip_navi">
    <ul>
        <li><a href="#contents" class="fe-replace-history">본문 바로가기</a></li>
    </ul>
</div>
<!--// #skip_navigation -->
<div class="wrap" data-menuId="<%= data.pageInfo.menuId %>">
    <!-- #header -->
    <%- include('../../../common/views/components/header.component.html', { title: '나의 가입정보', svcInfo: data.svcInfo,  pageInfo: data.pageInfo }); %>
    <!--// #header -->

    <!-- #contents -->
    <div id="contents" class="container-wrap">
        <h2 class="blind">내용</h2>
        <div class="container" data-id="submain-container">
            <hr class="cont-sp type1" aria-hidden="true">
            <!-- .cont-box -->
            <div class="cont-box">
                <div class="my-subscription-wrap">
                    <div class="my-device-type">
                        <span class="ico-wrap">
                            <i class="icon-<%= data.currLineIconClass %>-48">
                                <span class="blind"></span>
                            </i>
                        </span>
                        <div class="user-info">
                            <span class="username"><span class="blind">가입자명</span><%= data.svcInfo.mbrNm %></span>
                            <span class="device"><span class="blind">닉네임 / 디바이스 펜네임</span>
                                <% if(data.svcInfo.nickNm) { %>
                                <%= data.svcInfo.nickNm %>
                                <% } else { %>
                                <%= data.svcInfo.eqpMdlNm %>
                                <% } %>
                            </span>
                            <% if (data.type === 0 || data.type === 1) { %>
                            <button type="button" class="btn-edit" data-id="change-nick" title="닉네임 등록 페이지 이동">
                                <i class="icon-name-edit-32"><span class="blind">name edit</span></i>
                                <span class="blind">닉네임 등록 페이지 이동</span>
                            </button>
                            <% } %>
                        </div>
                        <div class="p-num"><span class="blind">회선정보</span>
                            <%  if ( ['S1', 'S2'].indexOf(data.svcInfo.svcAttrCd) > -1 ) { %>
                            <%= data.svcInfo.addr %>
                            <% } else { %>
                            <%= data.svcInfo.svcNum %>
                            <% } %>
                        </div>
                    </div>

                    <div class="basic-list mt20">
                        <ul>
                            <%- include('../components/submain/myt-join.submain.more-info.html', data) %>
                        </ul>
                    </div>
                </div>
            </div>
            <!--// .cont-box -->
            <%- include('../components/submain/myt-join.submain.prod-info.html', data) %>
            <% if (data.type === 0) { %>
                <%- include('../components/submain/myt-join.submain.pause-state.html', data) %>
            <% } else if (data.type === 2) { %>
                <%- include('../components/submain/myt-join.submain.wire-more-info.html', data) %>
            <% } %>

            <hr class="cont-sp type1" aria-hidden="true" data-id="banners-empty" />
            <div class="cont-box nogaps noborder" data-id="banners">
                <div class="main-slide-banner slide-pagingtype pg-rtop">
                    <!-- .widget -->
                    <div class="widget">
                        <div class="widget-box">
                            <div class="slider-box">
                                <ul class="slider" data-id="banner-list" data-location="M"></ul>
                            </div>
                        </div>
                    </div>
                    <!--// .widget -->
                </div>
            </div>
            <!-- //.cont-box -->

            <% if (data.type !== 1) { %>
                <% if (data.otherLines.length > 0) { %>
                <hr class="cont-sp type1" aria-hidden="true"/>
                <!-- .cont-box -->
                <div class="cont-box nogaps-btm" data-id="other-lines">
                    <div class="ti-caption-type01 pb0">
                        <h2 class="tit">다른 회선 정보
                            <button type="button" class="btn-tip" id="TC000004" page-id="<%= data.pageInfo.menuId %>"
                                    title="다른 회선 정보" aria-haspopup="true">
                                <i class="icon-badge-tip"><span class="blind">tip</span></i>
                            </button>
                        </h2>
                    </div>
                    <ul class="my-line-info">
                        <% var length = (data.otherLines.length > 20 ? 20 : data.otherLines.length); %>
                        <% for (var i=0; i < length; i++) { %>
                        <%- include('../components/submain/myt-join.submain.other-line.html', { data: data.otherLines[i] }); %>
                        <% } %>
                    </ul>
                    <% if (length === 20) { %>
                    <!-- 다른 회선이 총 20개 이상인 경우 -->
                    <div class="btn-more">
                        <button type="button">더보기</button>
                    </div>
                    <% } %>
                </div>
                <!-- .cont-box -->
                <% } %>
            <% } %>

            <!-- .cont-box -->
            <div class="cont-box noborder bgnone">
                <h3 class="pg-chk-tit">다른 페이지를 찾고 계신가요?</h3>
                <ul class="pg-link-list" data-id="other-pages">
                    <li>
                        <a href="/common/member/manage">
                            <i class="icon-member-40"><span class="blind"></span></i>회원정보관리
                        </a>
                    </li>
                    <!--DV001-16171-->
                    <%if(data.isApp){%>
                    <li>
                        <button type="button" data-id="certify-popup" title="공인인증 등록 / 변경" aria-haspopup="true">
                            <i class="icon-certify-40"><span class="blind"></span></i>공인인증 등록 / 변경
                        </button>
                    </li>
                    <%}%>
                    <% if (data.type === 2) { %>
                    <li>
                        <a href="/benefit/submain?filters=F01422">
                            <i class="icon-discount-40"><span class="blind"></span></i>혜택 / 할인 &gt; 결합할인
                        </a>
                    </li>
                    <li>
                        <a href="/myt-fare/bill/option">
                            <i class="icon-charge-40"><span class="blind"></span></i>나의 요금 &gt; 납부방법
                        </a>
                    </li>
                    <li>
                        <a href="/product/wireplan/service-area">
                            <i class="icon-discount-40"><span class="blind"></span></i>인터넷/전화/IPTV 상품 &gt; 서비스 가능지역 조회
                        </a>
                    </li>
                    <li>
                        <a href="/myt-join/submain/wire/discountrefund">
                            <i class="icon-my-40"><span class="blind"></span></i>나의 가입 정보 &gt; 할인 반환금 조회
                        </a>
                    </li>
                    <li>
                        <a href="/myt-join/submain/wire/gifts">
                            <i class="icon-my-40"><span class="blind"></span></i>나의 가입 정보 &gt; 사은품 조회
                        </a>
                    </li>
                    <% } else if (data.type === 1) { %>
                    <!-- DV001-10531 -->
                    <li>
                        <a href="/common/member/line">
                            <i class="icon-member-40"><span class="blind"></span></i>회원정보관리 &gt; 회선관리
                        </a>
                    </li>
                    <% } else { %>
                    <li>
                        <a href="/common/member/line">
                            <i class="icon-member-40"><span class="blind"></span></i>회원정보관리 &gt; 회선관리
                        </a>
                    </li>
                    <li>
                        <a href="/myt-fare/bill/option">
                            <i class="icon-charge-40"><span class="blind"></span></i>나의 요금 &gt; 납부방법
                        </a>
                    </li>
                    <li>
                        <a href="/benefit/my">
                            <i class="icon-discount-40"><span class="blind"></span></i>혜택 / 할인 &gt; 나의 할인 혜택
                        </a>
                    </li>
                    <% } %>
                </ul>
            </div>
            <!--// .cont-box -->
        </div>
    </div>
    <!--// #contents -->
    <%- include('../../../common/views/components/footer.component.html', { svcInfo: data.svcInfo, pageInfo: data.pageInfo }); %>
</div>
<% include ../components/javascript.component.html %>
</body>
<script>
    // client 작업 중
    var data = '<%- JSON.stringify(data) %>';
    $(document).ready(function () {
      new Tw.MyTJoinSubMain({
        $element: $('[data-id=submain-container]'),
        data: JSON.parse(data)
      });
    });
</script>
<% include ../components/end.component.html %>
