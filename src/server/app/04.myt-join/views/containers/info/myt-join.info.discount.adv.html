<%#
* MenuName: 나의 가입정보 > 약정할인/기기상환 정보(MS_09)
* @file myt-join.info.discount.html
* @author 김인환
* @since 2021.02.16
* Summary: 약정정보, 기기상환 정보 출력 화면
_%>
<%- include('../../components/start.component.html', { pageInfo: locals.pageInfo }); _%>
<body>
    <!-- #skip_navigation -->
    <div id="skipNav" class="skip_navi">
        <ul>
            <li><a href="#contents-area" class="fe-replace-history">본문 바로가기</a></li>
        </ul>
    </div>
    <!--// #skip_navigation -->
    <div class="wrap" data-menuId="<%= pageInfo.menuId %>">
        <!-- #header -->
        <%- include('../../../../common/views/components/header.component.html', { svcInfo: svcInfo, title: '약정할인/기기상환 정보' }) _%>
        <!--// #header -->
        <!-- #contents -->
        <div id="contents" class="container-wrap">
            <h2 id="contents-area" tabindex="-1"><span class="blind">본문시작</span></h2>
            <div class="container tod-submain">
                <%- include('../../../../../common/views/components/common.select-line.component.html', { svcInfo: svcInfo, xtEid: { single: "CMMA_A3_B13_C65-1", multiple: "CMMA_A3_B13_C65-2" } }); _%>
                <%_
                var isEmptyInfo = ((!commDataInfo.feeInfo || commDataInfo.feeInfo.length === 0) &&
                (!commDataInfo.terminalInfo || commDataInfo.terminalInfo.length === 0) &&
                (!commDataInfo.repaymentInfo || commDataInfo.repaymentInfo.length === 0) &&
                (!commDataInfo.tRental));
                _%>
                <% if (isEmptyInfo) { %>
                <section class="cont-card">
                    <div class="section-inner">
                        <div class="card-cont">
                            <div class="warning-box">
                                <div class="warning-inner">
                                    <p class="warning-tit">현재 이용 중인<br>약정 할인/기기 상환 정보가 없습니다.</p>
                                </div>
                            </div>
                        </div>
                    </div>
                </section>
                <% } else { %>
                    <% if ( commDataInfo.feeInfo.length > 0 ) { %>
                    <section class="cont-card">
                        <div class="section-inner">
                            <div class="card-cont">
                                <div class="small-head-tit">요금약정할인</div>
                                <div class="card-cont">
                                    <%_
                                    for (var idx = 0; idx < commDataInfo.feeInfo.length; idx++) {
                                    var feeItem = commDataInfo.feeInfo[idx];
                                    _%>
                                    <% include ../../components/info/myt-join.info.discount.fee.adv.html %>
                                    <%_ } _%>
                                    <div class="hash-wrap">
                                        <ul class="hash-list normal">
                                            <li class="hash-item">
                                                <a href="#" class="hash">#요금납부내역</a>
                                            </li>
                                            <li class="hash-item">
                                                <a href="#" class="hash">#나의 결합상품</a>
                                            </li>
                                        </ul>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </section>
                    <% } %>
                    <% if ( commDataInfo.terminalInfo.length > 0 ) { %>
                    <section class="cont-card">
                        <div class="section-inner">
                            <div class="small-head-tit">기기 약정할인</div>
                            <div class="card-cont">
                                <%_
                                for (var idx = 0; idx < commDataInfo.terminalInfo.length; idx++) {
                                var terminalItem = commDataInfo.terminalInfo[idx];
                                _%>
                                <% include ../../components/info/myt-join.info.discount.device.adv.html %>
                                <%_ } _%>
                            </div>
                        </div>
                    </section>
                    <% } %>
                    <% if ( commDataInfo.repaymentInfo.length > 0 ) { %>
                    <section class="cont-card">
                        <div class="section-inner">
                            <div class="small-head-tit">기기 할부 정보</div>
                            <div class="card-cont">
                                <%_
                                for (var idx = 0; idx < commDataInfo.repaymentInfo.length; idx++) {
                                var repaymentItem = commDataInfo.repaymentInfo[idx];
                                _%>
                                <% include ../../components/info/myt-join.info.discount.device.buy.adv.html %>
                                <%_ } _%>
                                <div class="hash-wrap">
                                    <ul class="hash-list normal">
                                        <li class="hash-item">
                                            <a href="#" class="hash">#요금납부내역</a>
                                        </li>
                                    </ul>
                                </div>
                            </div>
                        </div>
                    </section>
                    <% } %>
                <% } %>
                <div class="dim"></div>
            </div>
        </div>
        <!--// #contents -->
        <%- include('../../../../common/views/components/footer.component.html', { svcInfo: svcInfo, pageInfo: pageInfo }); _%>
    </div>
    <%- include('../../components/javascript.component.html') _%>
    <script>
      $(document).ready(function () {
        new Tw.MyTJoinInfoDiscountAdv({
            $element: $('#contents'),
            data: {
              reqQuery: <%- JSON.stringify(reqQuery) %>,
              commDataInfo: <%- JSON.stringify(commDataInfo) %>,
              resDataInfo: <%- JSON.stringify(resDataInfo) %>
            }
        });
      });
    </script>
</body>
<%- include('../../components/end.component.html') _%>
