<%#
* @file myt-join.myplancombine.tb-wire.html
* @author Jiyoung Jo
* @since 2018.10.26
* id: MS_07_01_06
%>

<% const groupInfo = combination.combinationGroup, code = ['NH00000037', 'NH00000039', 'TW00000062'].indexOf(prodId) !== -1 ? 'I' : 'P';
const wireMembers = (combination.combinationWireMemberList || []).filter(member => {
    return member.svcCd === code;
}) %>
<!-- .cont-box -->
<div class="cont-box flp-other-pd-st">
    <div class="bundle-tit-wrap">
        <h3 class="tit"><%= (groupInfo.combProdNm || groupInfo.svcProdGrpNm).replace('전화', '전화/인터넷전화') %></h3>
    </div>
    <div class="basic-list bg-type mt10">
        <ul>
            <li>
                <span class="title">신청일</span>
                <span class="tx-cont"><%= groupInfo.combStaDt %></span>
            </li>
            <li>
                <span class="title">가입일</span>
                <span class="tx-cont"><%= groupInfo.combStaDt %></span>
            </li>
            <li>
                <span class="title">가입상태</span>
                <span class="tx-cont">결합완료</span>
            </li>
            <li>
                <span class="title">결합회선</span>
                <span class="tx-cont"><%= groupInfo.mblSvcCnt + wireMembers.length %>회선</span>
            </li>
        </ul>
    </div>
</div>
<!--// .cont-box -->

<hr class="cont-sp type1" aria-hidden="true"/>

<!-- .cont-box -->
<div class="cont-box nogaps-top">
        <!-- .widget -->
    <div class="widget">
        <div class="widget-box accordion2">
            <div class="acco-style data-famliy-group-list type2">
                <ul class="acco-box">
                <%  combination.combinationWirelessMemberList.map(member => { 
                    const isRep = member.relClCd === '00'; %>
                    <li class="acco-list"><!-- on , off -->
                        <div class="acco-title">
                            <button role="button" aria-pressed="false">
                                <div class="list-wrap">
                                    <div class="list-info">
                                        <div>
                                            <span class="me"><%= member.custNm %></span>
                                        </div>
                                        <div class="num"><%= member.svcNum %></div>
                                    </div>
                                    <div class="list-data">
                                        <span class="vol2">T상품</span>
                                    </div>
                                    <div class="list-arrow">
                                        <span class="ico-arrow"><span class="blind">결합가족 <%= member.custNm %> 내용 자세히 보기</span></span>
                                    </div>
                                </div>
                            </button>
                        </div>
                        <div class="acco-content">
                            <div class="data-info-list toggle-inner-list">
                                <ul>
                                    <li><dl><dt>상품</dt><dd>T상품</dd></dl></li>
                                    <li><dl><dt>요금제</dt><dd><%= member.feeProdNm %></dd></dl></li>
                                    <li><dl><dt>서비스 제공회사</dt><dd>SK텔레콤</dd></dl></li>
                                    <li><dl><dt>사용 개월 수</dt><dd>-</dd></dl></li>
                                    <li><dl><dt>T끼리 온가족 할인</dt><dd><%= member.famlUseYn === 'Y'? '할인제도 사용중' : '-' %></dd></dl></li>
                                </ul>
                            </div>
                        </div>
                    </li>
                <% }); %>
                
                <% wireMembers.map(member => { 
                    const isRep = member.relClCd === '00'; %>
                    <li class="acco-list"><!-- on , off -->
                        <div class="acco-title">
                            <button role="button" aria-pressed="false">
                                <div class="list-wrap">
                                    <div class="list-info">
                                        <div>
                                            <span class="me"><%= member.custNm %></span>
                                        </div>
                                        <!-- <div class="num"><%= member.svcNum %></div> -->
                                    </div>
                                    <div class="list-data">
                                        <span class="vol2">B상품</span>
                                    </div>
                                    <div class="list-arrow">
                                        <span class="ico-arrow"><span class="blind">결합가족 <%= member.custNm %> 내용 자세히 보기</span></span>
                                    </div>
                                </div>
                            </button>
                        </div>
                        <div class="acco-content">
                            <div class="data-info-list toggle-inner-list">
                                <ul>
                                    <li><dl><dt>상품</dt><dd>B상품</dd></dl></li>
                                    <li><dl><dt>요금제</dt><dd><%= member.feeProdNm %></dd></dl></li>
                                    <li><dl><dt>서비스 제공회사</dt><dd><%= member.coClCd === 'T' ? 'SK텔레콤' : 'SK브로드밴드'%></dd></dl></li>
                                    <li><dl><dt>사용 개월 수</dt><dd><%= member.useYearCnt %></dd></dl></li>
                                    <li><dl><dt>T끼리 온가족 할인</dt><dd>-</dd></dl></li>
                                </ul>
                            </div>
                        </div>
                    </li>
                <% }); %>    
                </ul>
            </div>
        </div>
    </div>
    <!-- //.widget -->
    <% if (combination.combinationGroup.isRepresentation) { %>
    <ul class="bt-slice">
        <li class="bt-white2">
            <a href="/product/callplan?prod_id=<%= prodId %>">해지하기</a>
        </li>
    </ul>
    <% } %>
</div>
<!--// .cont-box -->

<hr class="cont-sp type1" aria-hidden="true"/>
<!-- .cont-box --><!-- 2018-11-02 수정 -->
<div class="cont-box nogaps-btm">
    <h3 class="tx-bold">꼭 확인해 주세요</h3>
    <ul class="noti-list02">
        <li><button id="MS_07_01_06_tip_01" type="button" class="tip-view-btn" title="본인인증 필요한 경우 TIP보기" aria-haspopup="true">본인인증 필요한 경우<span class="tip-view">TIP</span></button></li>
        <li><button id="MS_07_01_06_tip_02" type="button" class="tip-view-btn" title="결합상품 자동 해지되는 경우 TIP보기" aria-haspopup="true">결합상품 자동 해지되는 경우<span class="tip-view">TIP</span></button></li>
        <li><button id="MS_07_01_06_tip_03" type="button" class="tip-view-btn" title="할인 적용되는 경우 TIP보기" aria-haspopup="true">할인 적용되는 경우<span class="tip-view">TIP</span></button></li>
    </ul>
</div>
<!--// .cont-box -->