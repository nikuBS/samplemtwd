<%#
* MenuName: T멤버십 > submain (BE_01)
* @file membership.submain.html
* @author Eunjung Jung
* @since 2018.12.19
* ID: BE_01
%>

<%- include('../components/start.component.html', { pageInfo: locals.pageInfo }); %>
<% include ../components/membership.submain.component.html %>
<body>
<!-- #skip_navigation -->
<div id="skipNav" class="skip_navi">
    <ul>
        <li><a href="#contents" class="fe-replace-history">본문 바로가기</a></li>
    </ul>
</div>
<!--// #skip_navigation -->
<div class="wrap">
    <!-- #header -->
    <%- include('../../../common/views/components/header.component.html', { title: 'T멤버십', svcInfo: svcInfo }); %>
    <!--// #header -->
    <!-- #contents -->
    <div id="contents" class="container-wrap">
        <h2 class="blind">내용</h2>
        <div class="container">

            <!-- .cont-box -->
            <div class="fe-membership-banner">
                <div class="cont-box nogaps noborder">
                    <div class="main-slide-banner slide-pagingtype pg-rtop">
                        <!-- .widget -->
                        <div class="widget">
                            <div class="widget-box">
                                <div class="slider-box">
                                    <ul class="slider" data-location="S">
                                    </ul>
                                </div>
                            </div>
                        </div>
                        <!--// .widget -->
                    </div>
                </div>
            </div>
            <!--// .cont-box -->

            <hr class="cont-sp type1" aria-hidden="true"/>

            <!-- .cont-box -->
            <% if(isLogin && svcInfo.loginType === 'T' && svcInfo.svcGr !== 'P' && svcInfo.svcGr !== 'I'
                                        && svcInfo.svcGr !== 'T' && svcInfo.svcGr !== 'U' && svcInfo.svcGr !== '') { %>
            <% if(membershipData.mbrCode !== '01') { %>
            <% if(membershipData && membershipData.mbrGrade) { %>
            <div class="cont-box nogaps-top">
                <div class="card-wrap">
                    <button class="solid-link fe-mebership-my">나의 T멤버십
                        <span class="sub-info">연간 누적 혜택 <strong><%= membershipData.showUsedAmount %>원</strong></span>
                        <i class="ico"></i>
                    </button>
                    <div class="user-barcode-info">
                        <div class="user-type">
                            <% if (membershipData.mbrGrade === 'default') { %>
                            <i class="icon-o"><%= membershipData.mbrGrStr %></i>
                            <% } else { %>
                            <i class="icon-<%= membershipData.mbrGrade %>"><%= membershipData.mbrGrStr %></i>
                            <% } %>
                            <span class="txt"><%= membershipData.mbrTypStr %></span>
                        </div>
                        <div class="user-number-info">
                            <p class="name"><%= membershipData.custNm %> 고객님</p>
                            <p class="num"><%= membershipData.showCardNumDash %></p>
                        </div>
                        <% if (membershipData.mbrStCd === 'AC') { %>
                        <button type="button" class="barcode-area" id="fe-barcode-btn">
                            <img id="fe-barcode-img" data-cardNum="<%= membershipData.mbrCardNum %>" src="<%= CDN %>/img/benefit/bar-code.png" alt="멤버심 바코드">
                        </button>
                        <% } else if (membershipData.mbrStCd === 'SP') { %>
                        <div class="barcode-area nolink">
                            <span class="msg-type">이용정지</span>
                        </div>
                        <% } %>
                    </div>
                </div>
            </div>
            <% } else { %>
            <div class="cont-box nogaps-top">
                <div class="card-wrap">
                    <button class="solid-link fe-membership-grade">T멤버십 카드/등급 안내<i class="ico"></i></button>
                    <div class="box-card-apl">
                        <p class="card-txt"><span class="point">T멤버십 카드를 신청</span>하시고<br />다양한 혜택을 받으세요</p>
                        <div class="btn-wrap"><button class="btn-round1 btn-style1" id="fe-membership-join">가입하기</button></div>
                    </div>
                </div>
            </div>
            <% } %>
            <% } else { %>
            <!-- 2019.03.13 서비스 점검중 추가 -->
            <div class="cont-box">
                <div class="notice-point">
                    <p class="t-np1">서비스 점검 중 입니다.</p>
                    <p class="t-np4">잠시 후 다시 이용해 주세요. </p>
                    <p class="t-np5"><%= membershipData.msg %></p>
                </div>
            </div>
            <!-- //2019.03.13 서비스 점검중 추가 -->
            <% } %>
            <% } else if(isLogin && svcInfo.loginType === 'S') { %>
            <div class="cont-box nogaps-hoz"><!--2019.02.19 수정-->
                <div class="card-wrap">
                    <button class="solid-link fe-membership-grade">T멤버십 카드·등급 안내<i class="ico"></i></button>
                    <div class="card-desc1"><!--2019.03.06 추가-->
                        <span>T멤버십</span>은 간편 로그인 상태에서 조회 할 수 없습니다.<br>
                        <span>T아이디(아이디/비밀번호) 로그인</span> 후 이용해주세요.
                    </div>
                </div>
            </div>
            <% } else { %>
            <div class="cont-box nogaps-top">
                <div class="card-wrap">
                    <button class="solid-link fe-membership-grade">T멤버십 카드/등급 안내<i class="ico"></i></button>
                    <div class="box-card-apl">
                        <p class="card-txt"><span class="point">T멤버십 카드를 신청</span>하시고<br />다양한 혜택을 받으세요</p>
                        <div class="btn-wrap"><button class="btn-round1 btn-style1" id="fe-membership-join">가입하기</button></div>
                    </div>
                </div>
            </div>
            <% } %>
            <!--// .cont-box -->

            <hr class="cont-sp type1" aria-hidden="true"/>

            <!-- .cont-box -->
            <div class="cont-box">
                <div class="main-quick-menu member-quick-menu type2">
                    <ul>
                        <li><a href="/membership/benefit/brand" class="brand"><span class="ico"></span>제휴브랜드</a></li>
                        <li><a href="/membership/benefit/movieculture" class="movie"><span class="ico"></span>무비/컬처</a></li>
                        <li><a class="t-day fe-membership-tday"><span class="ico"></span>T Day</a></li>
                        <li><a class="data-plus"><span class="ico"></span>초콜릿</a></li>
                        <!-- <li><button class="my-plus"><span class="ico"></span>내맘대로 플러스</button></li> -->
                    </ul>
                </div>
            </div>
            <!--// .cont-box -->

            <hr class="cont-sp type1" aria-hidden="true"/>

            <!-- cont-box -->
            <% if(popBrandData) { %>
            <div class="cont-box nogaps">
                <div class="benefit-popularity-wrap">
                    <button class="solid-link fe-benefit-title">일상 속 할인, 제휴 브랜드<i class="ico"></i></button>
                    <!-- .widget -->
                    <div class="widget">
                        <div class="widget-box horizontal">
                            <div class="horizontal-slide">
                                <ul class="horizontal-list coalition-brand-box type2">
                                    <% if(popBrandData) { %>
                                    <% for(var i = 0; i < popBrandData.list.length; i++){ %>
                                    <li class="pl0">
                                        <a class="brand-inner" href="/membership/benefit/brand-benefit?cateCd=<%= popBrandData.list[i].cateCd %>&brandCd=<%= popBrandData.list[i].brandCd %>">
                                            <span><img src="<%= popBrandData.list[i].appIcoImgUrl %>"
                                                       alt="<%= popBrandData.list[i].coPtnrNm %>"></span>
                                            <strong><%= popBrandData.list[i].coPtnrNm %></strong>
                                            <!--<em><%= popBrandData.list[i].icoCont1 %></em>-->
                                        </a>
                                    </li>
                                    <% } %>
                                    <% } %>
                                </ul>
                            </div>
                        </div>
                    </div>
                    <!-- .widget -->
                </div>
            </div>
            <% } %>
            <!-- // cont-box -->

            <hr class="cont-sp type1" aria-hidden="true"/>

            <!-- cont-box -->
            <div class="cont-box nogaps fe-near-brand">
                <div class="benefit-popularity-wrap">
                    <div class="tit-wrap">
                        <h3 class="tit-type7">내 주변 제휴 브랜드</h3>
                        <button class="bt-gps fe-membership-location" title="내 주변 제휴 브랜드 보기">서울 중구</button>
                    </div>
                    <ul class="coalition-brand-list type2" id="fe-memebership-near">
                    </ul>
                </div>
            </div>
            <!-- // cont-box -->

            <hr class="cont-sp type1" aria-hidden="true"/>

            <!-- cont-box -->
            <div class="cont-box nogaps">
                <button class="box-app-down">
                    <span class="txt">T멤버십 앱을 설치하면 더 많은 정보와<br />이벤트를 확인하실 수 있습니다.</span>
                </button>
            </div>
            <!-- // cont-box -->
        </div>
        <footer id="fe-all-menu">
            <%- include('../../../common/views/components/footer.component.html', { svcInfo: svcInfo, pageInfo: pageInfo }); %>
        </footer>
    </div>
    <!--// #contents -->
</div>
</body>

<% include ../components/javascript.component.html %>
<script>
    $(document).ready(function () {
        var membershipData = '<%- JSON.stringify(membershipData) %>';
        var svcInfo = '<%- JSON.stringify(svcInfo) %>';
        new Tw.MembershipSubmain($('.wrap'), JSON.parse(membershipData), JSON.parse(svcInfo), '<%= pageInfo.menuId %>');
    });
</script>
<% include ../components/end.component.html %>